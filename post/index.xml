<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts | Donald Blog</title>
    <link>https://kurimi1.github.io/post/</link>
      <atom:link href="https://kurimi1.github.io/post/index.xml" rel="self" type="application/rss+xml" />
    <description>Posts</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>zh-Hans</language><lastBuildDate>Thu, 21 Jul 2022 02:30:58 +0000</lastBuildDate>
    <image>
      <url>https://kurimi1.github.io/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_512x512_fill_lanczos_center_3.png</url>
      <title>Posts</title>
      <link>https://kurimi1.github.io/post/</link>
    </image>
    
    <item>
      <title>Go Pprof Note</title>
      <link>https://kurimi1.github.io/post/go-pprof/</link>
      <pubDate>Thu, 21 Jul 2022 02:30:58 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/go-pprof/</guid>
      <description>&lt;h2 id=&#34;只运行一次&#34;&gt;只运行一次&lt;/h2&gt;
&lt;p&gt;文档&lt;a href=&#34;https://pkg.go.dev/runtime/pprof&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://pkg.go.dev/runtime/pprof&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;使用test-bench&#34;&gt;使用test bench&lt;/h3&gt;
&lt;p&gt;go test -cpuprofile cpu.prof -memprofile mem.prof -bench .&lt;/p&gt;
&lt;h3 id=&#34;加入写文件代码&#34;&gt;加入写文件代码&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;var cpuprofile = flag.String(&amp;quot;cpuprofile&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;write cpu profile to `file`&amp;quot;)
var memprofile = flag.String(&amp;quot;memprofile&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;write memory profile to `file`&amp;quot;)

func main() {
    flag.Parse()
    if *cpuprofile != &amp;quot;&amp;quot; {
        f, err := os.Create(*cpuprofile)
        if err != nil {
            log.Fatal(&amp;quot;could not create CPU profile: &amp;quot;, err)
        }
        defer f.Close() // error handling omitted for example
        if err := pprof.StartCPUProfile(f); err != nil {
            log.Fatal(&amp;quot;could not start CPU profile: &amp;quot;, err)
        }
        defer pprof.StopCPUProfile()
    }

    // ... rest of the program ...

    if *memprofile != &amp;quot;&amp;quot; {
        f, err := os.Create(*memprofile)
        if err != nil {
            log.Fatal(&amp;quot;could not create memory profile: &amp;quot;, err)
        }
        defer f.Close() // error handling omitted for example
        runtime.GC() // get up-to-date statistics
        if err := pprof.WriteHeapProfile(f); err != nil {
            log.Fatal(&amp;quot;could not write memory profile: &amp;quot;, err)
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;持续运行&#34;&gt;持续运行&lt;/h2&gt;
&lt;p&gt;文档&lt;a href=&#34;https://pkg.go.dev/net/http/pprof&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://pkg.go.dev/net/http/pprof&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;添加以下代码&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import _ &amp;quot;net/http/pprof&amp;quot;
go func() {
	log.Println(http.ListenAndServe(&amp;quot;localhost:6060&amp;quot;, nil))
}()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;地址：&lt;a href=&#34;http://localhost:6060/debug/pprof&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;http://localhost:6060/debug/pprof&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;pprof命令行&#34;&gt;pprof命令行&lt;/h2&gt;
&lt;p&gt;官方文档&lt;a href=&#34;https://github.com/google/pprof/blob/main/doc/README.md&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/google/pprof/blob/main/doc/README.md&lt;/a&gt;
中文文档&lt;a href=&#34;https://github.com/hyper0x/go_command_tutorial/blob/master/0.12.md&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/hyper0x/go_command_tutorial/blob/master/0.12.md&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;开启web&#34;&gt;开启web&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;go tool pprof -http=[host]:[port] [options] source&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;磁盘分析网络分析&#34;&gt;磁盘分析，网络分析&lt;/h2&gt;
&lt;p&gt;目前没看到开源项目，分析程序内部磁盘和网络情况&lt;/p&gt;
&lt;h2 id=&#34;bench&#34;&gt;bench&lt;/h2&gt;
&lt;p&gt;go test -bench -cpuprofile xxx&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Pack Backend Frontend in a Docker</title>
      <link>https://kurimi1.github.io/post/pack-backend-frontend-in-a-docker/</link>
      <pubDate>Wed, 08 Jun 2022 03:44:18 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/pack-backend-frontend-in-a-docker/</guid>
      <description>&lt;p&gt;前后端分离是主流，go也可以通过template进行服务器渲染前端，但采用主流的前端框架vue，react，flutter等有丰富的UI，且前端可以直接做CDN等优势。本文总结当一个小项目前后端分离时仅通过一个容器启动的方法。&lt;/p&gt;
&lt;h3 id=&#34;通过nginx部署前端反代到后端api&#34;&gt;通过nginx部署前端，反代到后端api&lt;/h3&gt;
&lt;p&gt;这种方式相当于一个容器里起了nginx和后端2个服务。后端需要监听端口，nginx通过访问本地端口来连接后端。&lt;/p&gt;
&lt;h3 id=&#34;后端路由到前端的静态资源前端实现反代调用后端api&#34;&gt;后端路由到前端的静态资源，前端实现反代调用后端api&lt;/h3&gt;
&lt;p&gt;后端路由设置静态文件目录，根目录/301到静态目录。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;r.Static(&amp;quot;/static&amp;quot;, &amp;quot;./static&amp;quot;)
r.GET(&amp;quot;/&amp;quot;, func(c *gin.Context) {
  c.Redirect(http.StatusMovedPermanently, &amp;quot;/static/&amp;quot;)
  return
})
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;前端axios设置base_url&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// 创建 axios 实例
const service = axios.create({
  baseURL: process.env.VUE_APP_API_BASE_URL, // api base_url
  timeout: 6000 // 请求超时时间
})
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;将前端静态资源嵌入到go二进制当中&#34;&gt;将前端静态资源嵌入到go二进制当中&lt;/h3&gt;
&lt;p&gt;这样做不需要复制静态文件，直接运行二进制即可。&lt;code&gt;阅读drone源码发现的&lt;/code&gt;，前端是单独放在另一个仓库中的&lt;a href=&#34;https://github.com/drone/drone-ui&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/drone/drone-ui&lt;/a&gt;，这里的dist目录里面有两个文件dist.go和dist_gen.go。
其中dist.go的“代码”只有短短的两行：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package dist

//go:generate togo http -package dist -output dist_gen.go
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;到这里就要介绍一下go generate命令了。&lt;/p&gt;
&lt;h4 id=&#34;go-generate是什么&#34;&gt;go generate是什么？&lt;/h4&gt;
&lt;p&gt;go generate 是自 Go 1.4 版本后加入的一个命令，当运行此命令时，它将扫描与当前包相关的源代码文件，找出文件中所有包含//go:generate的特殊注释，并将该注释后面的内容当做 shell 执行。
虽说是可以执行任意命令，但它往往被用作自动生成代码。为了避免自动生成的代码之后被人为修改，往往还会在生成的代码前面加上// Code generated by xxxx; DO NOT EDIT.这样的提示。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;注意，//go:generate并不会在go build或go run时执行。只能单独使用go generate执行。&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;其实 Go 里面还有很多类似//go:xxx这样的注释。像//go:noinline //go:nosplit //go:norace 这些，大多都是控制 Go 编译器的一些命令。&lt;/p&gt;
&lt;p&gt;回到 Drone，这里的go:generate togo http -package dist -output dist_gen.go后面的命令是使用了 Drone 作者自己开发的一个小工具togo。&amp;laquo;&lt;a href=&#34;https://github.com/bradrydzewski/tog%3e&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/bradrydzewski/tog&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;它可以将 HTML、SQL、JSON 等静态文件转换成 Go 文件。使我们可以直接在项目的 Go 源码中调用这些文件。togo就是个 CLI 程序，源码不多；大概看了下，基本流程就是将静态文件的内容进行简单的处理后（比如转义掉反引号）然后使用 Go 自带的模板语言template包将静态文件内容以及文件信息插入到事先写好的 Go 代码模板中。&lt;/p&gt;
&lt;h4 id=&#34;将dist_gengo引入到项目中&#34;&gt;将dist_gen.go引入到项目中&lt;/h4&gt;
&lt;p&gt;Build the app and run go generate&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-BASH&#34;&gt;npm run build
# change to the dist directory
cd dist
# run go generate
GO111MODULE=off go generate ./...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will update the &lt;code&gt;dist/dist_gen.go&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;既分离了前后端项目的源代码，又通过包的方式使得前端和后端能很好的结合，妙啊！&lt;/p&gt;
&lt;p&gt;同样是&lt;code&gt;后端路由输出静态文件&lt;/code&gt;，只不过静态文件在go代码中，一起编译成二进制。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func HandleIndex(host string, session core.Session, license core.LicenseService) http.HandlerFunc {
	return func(rw http.ResponseWriter, r *http.Request) {
    user, _ := session.Get(r)
		if user == nil &amp;amp;&amp;amp; r.URL.Path == &amp;quot;/&amp;quot; {
			http.Redirect(rw, r, &amp;quot;/welcome&amp;quot;, 303)
			return
		}

		out := dist.MustLookup(&amp;quot;/index.html&amp;quot;)
		ctx := r.Context()

		if ok, _ := license.Exceeded(ctx); ok {
			out = bytes.Replace(out, head, exceeded, -1)
		} else if license.Expired(ctx) {
			out = bytes.Replace(out, head, expired, -1)
		}
		rw.Header().Set(&amp;quot;Content-Type&amp;quot;, &amp;quot;text/html; charset=UTF-8&amp;quot;)
		rw.Write(out)
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;index.html会引用static下的js，css等因此要设置路由链接嵌入的静态文件&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;	h := http.FileServer(dist.New())
	h = setupCache(h)
	r.Handle(&amp;quot;/favicon.png&amp;quot;, h)
	r.Handle(&amp;quot;/manifest.json&amp;quot;, h)
	r.Handle(&amp;quot;/asset-manifest.json&amp;quot;, h)
	r.Handle(&amp;quot;/static/*filepath&amp;quot;, h)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这里再提一下上面两个命令中的./..这个用法。它可以遍历包括当前文件夹在内的所有子文件夹。
起初看到这个还以为是操作系统的特性，但谷歌搜了半天没搜到。最后还是在 Go 的源码文档里看到了对此的解释。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The &amp;ldquo;go list&amp;rdquo; subcommand lists the import paths corresponding to its arguments, and the pattern &amp;ldquo;./&amp;hellip;&amp;rdquo; means start in the current directory (&amp;quot;./&amp;quot;) and find all packages below that directory (&amp;quot;&amp;hellip;&amp;quot;)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;最后提一下将静态文件嵌入go二进制的工具很多&#34;&gt;最后提一下将静态文件嵌入go二进制的工具很多&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;togo已经不再维护&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;一些开源的项目很久以前就开始做这方面的工作，比如gobuffalo/packr、markbates/pkger、rakyll/statik、knadh/stuffbin等等，但是不管怎么说这些都是第三方提供的功能，如果Go官方能内建支持就好了。2019末一个提案被提出issue#35950,期望Go官方编译器支持嵌入静态文件。后来Russ Cox专门写了一个设计文档Go command support for embedded static assets, 并最终实现了它。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Model Code Gen Compare</title>
      <link>https://kurimi1.github.io/post/model-code-gen-compare/</link>
      <pubDate>Thu, 24 Mar 2022 13:41:54 +0800</pubDate>
      <guid>https://kurimi1.github.io/post/model-code-gen-compare/</guid>
      <description>&lt;h2 id=&#34;go-orm-集合&#34;&gt;go orm 集合&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/d-tsuji/awesome-go-orms&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/d-tsuji/awesome-go-orms&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;go-zero&#34;&gt;go-zero&lt;/h2&gt;
&lt;p&gt;根据数据库或sql生成代码&lt;/p&gt;
&lt;p&gt;对除mysql外不友好&lt;/p&gt;
&lt;p&gt;有缓存代码&lt;/p&gt;
&lt;p&gt;类sql模式&lt;/p&gt;
&lt;h2 id=&#34;ent&#34;&gt;ent&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/ent/ent&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/ent/ent&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;根据自定义的schame生成数据库和代码&lt;/p&gt;
&lt;p&gt;文档好&lt;/p&gt;
&lt;p&gt;有第三方缓存&lt;a href=&#34;https://github.com/ariga/entcache&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/ariga/entcache&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;go-gormgen&#34;&gt;go-gorm/gen&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/go-gorm/gen/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/go-gorm/gen/&lt;/a&gt; 字节无恒实验室&lt;/p&gt;
&lt;p&gt;根据数据库生成代码&lt;/p&gt;
&lt;p&gt;文档太烂&lt;/p&gt;
&lt;p&gt;没缓存&lt;/p&gt;
&lt;h2 id=&#34;sqlc&#34;&gt;sqlc&lt;/h2&gt;
&lt;h2 id=&#34;goframe&#34;&gt;goframe&lt;/h2&gt;
</description>
    </item>
    
    <item>
      <title>Ubuntu18 Set Ulimit</title>
      <link>https://kurimi1.github.io/post/ubuntu18-set-ulimit/</link>
      <pubDate>Mon, 21 Mar 2022 11:45:41 +0800</pubDate>
      <guid>https://kurimi1.github.io/post/ubuntu18-set-ulimit/</guid>
      <description>&lt;h2 id=&#34;第一步修改limit配置文件&#34;&gt;第一步：修改limit配置文件&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;vim /etc/security/limits.conf

# 添加
# 打开文件数不能没限制
* - nofile 65535 
root - nofile 65535
* - nproc 65535
root - nproc 65535
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;*代表所有用户但不包括root，所有root要单独写出来&lt;br&gt;
切换用户或者重新登录来应用配置&lt;br&gt;
&lt;strong&gt;通常服务这样配置就可以了，ubuntu20.10可以，但18.04配置不能生效！！！&lt;/strong&gt;&lt;br&gt;
猜测ubuntu LTS版本应该通过系统层面配置&lt;/p&gt;
&lt;h2 id=&#34;第二步修改系统默认配置文件&#34;&gt;第二步：修改系统默认配置文件&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;vim /etc/systemd/system.conf 
# 桌面模式或许也要修改user.conf
vim /etc/systemd/user.conf
# 修改
DefaultLimitNOFILE=65535
DefaultLimitNPROC=65535
# 执行
systemctl daemon-reload
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;切换用户或重新登录&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Filebeat Config on Insecure Https</title>
      <link>https://kurimi1.github.io/post/filebeat-config-on-insecure-https/</link>
      <pubDate>Wed, 16 Mar 2022 17:12:32 +0800</pubDate>
      <guid>https://kurimi1.github.io/post/filebeat-config-on-insecure-https/</guid>
      <description>&lt;h2 id=&#34;官方文档的坑&#34;&gt;官方文档的坑&lt;/h2&gt;
&lt;p&gt;本来开开心心按照官方文档配置，结果发现https一波三折啊。&lt;/p&gt;
&lt;p&gt;官方文档：&lt;a href=&#34;https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-installation-configuration.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-installation-configuration.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;当配置ca_trusted_fingerprint时，需要去es docker上执行&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;openssl x509 -fingerprint -sha256 -in config/certs/http_ca.crt&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;结果生成hash指纹是：H9:7F:S8 这种格式，这事第一个大坑。需要把：删除字母转换为小写，放到ca_trusted_fingerprint里面。&lt;/p&gt;
&lt;p&gt;当我以为这就万事大吉了，结果发现还行链接不上,报错：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;{&amp;ldquo;log.level&amp;rdquo;:&amp;ldquo;error&amp;rdquo;,&amp;quot;@timestamp&amp;quot;:&amp;ldquo;2022-03-16T08:45:25.788Z&amp;rdquo;,&amp;ldquo;log.logger&amp;rdquo;:&amp;ldquo;esclientleg&amp;rdquo;,&amp;ldquo;log.origin&amp;rdquo;:{&amp;ldquo;file.name&amp;rdquo;:&amp;ldquo;transport/logging.go&amp;rdquo;,&amp;ldquo;file.line&amp;rdquo;:37},&amp;ldquo;message&amp;rdquo;:&amp;ldquo;Error dialing x509: certificate is valid for localhost, a0e3183bf337, not elasticsearch&amp;rdquo;,&amp;ldquo;service.name&amp;rdquo;:&amp;ldquo;filebeat&amp;rdquo;,&amp;ldquo;network&amp;rdquo;:&amp;ldquo;tcp&amp;rdquo;,&amp;ldquo;address&amp;rdquo;:&amp;ldquo;elasticsearch:9200&amp;rdquo;,&amp;ldquo;ecs.version&amp;rdquo;:&amp;ldquo;1.6.0&amp;rdquo;}&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ES自动生成的证书，只能用于本地，不能用于远程。也就是说，证书签名的域名为localhost，filebeat只能通过localhost访问es。但我使用的docker，只能通过远程访问。此时陷入了胶着。&lt;/p&gt;
&lt;p&gt;然后，我就发现了ES官网里的一个提问。
&lt;a href=&#34;https://discuss.elastic.co/t/merticbeat-error-dialing-x509-certificate-is-valid-for-127-0-0-1-not-172-16-0-204/299323&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://discuss.elastic.co/t/merticbeat-error-dialing-x509-certificate-is-valid-for-127-0-0-1-not-172-16-0-204/299323&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;可以通过verification_mode: none to disable hostname checking.&lt;a href=&#34;https://www.elastic.co/guide/en/beats/filebeat/current/ssl-client-fails.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://www.elastic.co/guide/en/beats/filebeat/current/ssl-client-fails.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;然后看到了ssl的配置文档：&lt;a href=&#34;https://www.elastic.co/guide/en/beats/filebeat/current/configuration-ssl.html#client-verification-mode&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://www.elastic.co/guide/en/beats/filebeat/current/configuration-ssl.html#client-verification-mode&lt;/a&gt;
可以设置verification_mode:
full&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;验证提供的证书是否由受信任的机构 (CA) 签名，并验证服务器的主机名（或 IP 地址）是否与证书中标识的名称匹配。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;strict&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;验证提供的证书是否由受信任的机构 (CA) 签名，并验证服务器的主机名（或 IP 地址）是否与证书中标识的名称匹配。如果主题备用名称为空，则返回错误。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;certificate&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;验证提供的证书是否由受信任的权威 (CA) 签名，但不执行任何主机名验证。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;none&lt;/p&gt;
&lt;p&gt;不 执行服务器证书的验证。此模式会禁用 SSL/TLS 的许多安全优势，并且只能在谨慎考虑后使用。它主要用作尝试解决 TLS 错误时的临时诊断机制；强烈建议不要在生产环境中使用它。&lt;/p&gt;
&lt;p&gt;默认值为full。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Use Go Swagger Gen Code</title>
      <link>https://kurimi1.github.io/post/use-go-swagger-gen-code/</link>
      <pubDate>Wed, 09 Mar 2022 11:17:59 +0800</pubDate>
      <guid>https://kurimi1.github.io/post/use-go-swagger-gen-code/</guid>
      <description>&lt;h2 id=&#34;项目开发流程&#34;&gt;项目开发流程&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;需求&lt;/li&gt;
&lt;li&gt;设计&lt;/li&gt;
&lt;li&gt;接口设计-swagger&lt;/li&gt;
&lt;li&gt;http代码生成&lt;/li&gt;
&lt;li&gt;ent 数据库代码生成，go-zero 数据库代码生成-自带缓存，gorm 数据库代码生成&lt;/li&gt;
&lt;li&gt;proto grpc代码生成&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;生成api代码的工具对比&#34;&gt;生成api代码的工具对比&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;go-zero生成的api代码，无法定义http code，不符合openapi规范&lt;/li&gt;
&lt;li&gt;kratos 通过 proto 生成api代码，未实践&lt;/li&gt;
&lt;li&gt;编写 swagger 文档，然后用 swagger-codegen 生成代码, 生成的是server stubs&lt;/li&gt;
&lt;li&gt;使用 go-swagger生成代码，仅支持2.0，生成完整的服务器代码&lt;/li&gt;
&lt;li&gt;使用 openapi-generator 生成代码， 生成的是server stubs，无法直接使用&lt;/li&gt;
&lt;li&gt;使用api fox 工具生成，内部使用的是openapi-generator&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;openapi-的路径与操作&#34;&gt;openapi 的路径与操作&lt;/h2&gt;
&lt;p&gt;文档：&lt;a href=&#34;https://swagger.io/docs/specification/describing-parameters/#query-parameters&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://swagger.io/docs/specification/describing-parameters/#query-parameters&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;查询数据库里的唯一字段id，name使用路径path
/users/{id}&lt;/p&gt;
&lt;p&gt;查询参数使用query，例如limit，offset等&lt;/p&gt;
&lt;h3 id=&#34;openapi-generator&#34;&gt;openapi-generator&lt;/h3&gt;
&lt;p&gt;使用apifox 生成，无法直接使用&lt;/p&gt;
&lt;h3 id=&#34;go-swagger&#34;&gt;go-swagger&lt;/h3&gt;
&lt;h3 id=&#34;kratos&#34;&gt;kratos&lt;/h3&gt;
</description>
    </item>
    
    <item>
      <title>Hugo Notes</title>
      <link>https://kurimi1.github.io/post/hugo/</link>
      <pubDate>Mon, 07 Mar 2022 11:29:57 +0800</pubDate>
      <guid>https://kurimi1.github.io/post/hugo/</guid>
      <description>&lt;h2 id=&#34;下载&#34;&gt;下载&lt;/h2&gt;
&lt;p&gt;有些主题可能不支持，一定要下载extended版本。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;go install &amp;ndash;tags extended github.com/gohugoio/hugo@latest&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;本地预览命令&#34;&gt;本地预览命令&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;hugo server &amp;ndash;bind 0.0.0.0 -D&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;-D 代表编译草稿&lt;/p&gt;
&lt;h2 id=&#34;创建post&#34;&gt;创建post&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;hugo new &amp;ndash;kind post post/my-article-name&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;编译命令&#34;&gt;编译命令&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;hugo&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;发布&#34;&gt;发布&lt;/h2&gt;
&lt;p&gt;push 到 github&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Docker Link Localnet</title>
      <link>https://kurimi1.github.io/post/docker-link-localnet/</link>
      <pubDate>Fri, 04 Mar 2022 18:21:45 +0800</pubDate>
      <guid>https://kurimi1.github.io/post/docker-link-localnet/</guid>
      <description>&lt;h2 id=&#34;设置net为host&#34;&gt;设置net为host&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;docker run &amp;ndash;net host&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;可直接访问&lt;/p&gt;
&lt;h2 id=&#34;使用默认的bridge&#34;&gt;使用默认的bridge&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;docker network inspect bridge&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;查看网关，通过网关访问本地网络&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>go控制协程并发数量</title>
      <link>https://kurimi1.github.io/post/go-control-goroutine-nums/</link>
      <pubDate>Wed, 03 Nov 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/go-control-goroutine-nums/</guid>
      <description>&lt;h2 id=&#34;方法&#34;&gt;方法&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;利用channel&lt;/li&gt;
&lt;li&gt;第三方库ants，协程池&lt;/li&gt;
&lt;li&gt;官方包sync/x/Semaphore&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;总结&#34;&gt;总结&lt;/h2&gt;
&lt;p&gt;协程池可以复用，节约内存，可以动态调整大小。&lt;/p&gt;
&lt;p&gt;channel限制并发，可以动态改变吗？&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>个人博客搜索引擎</title>
      <link>https://kurimi1.github.io/post/blog-search/</link>
      <pubDate>Mon, 11 Oct 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/blog-search/</guid>
      <description>&lt;h2 id=&#34;1期需求整理&#34;&gt;1期需求整理&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;全文搜索&lt;/li&gt;
&lt;li&gt;指定语言&lt;/li&gt;
&lt;li&gt;个人博客上传收录-进行爬取或rss&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;系统设计&#34;&gt;系统设计&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;使用gin web框架&lt;/li&gt;
&lt;li&gt;ES做全文搜索&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>在k8s中部署的系统获取用户ip</title>
      <link>https://kurimi1.github.io/post/k8s-get-userip/</link>
      <pubDate>Fri, 08 Oct 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/k8s-get-userip/</guid>
      <description>&lt;h2 id=&#34;背景&#34;&gt;背景&lt;/h2&gt;
&lt;p&gt;k8s Cluster模式 访问任何节点ip自带路由跳转(反向代理？)，因此后端获取到的是转换过一次的ip，而不是用户真实ip&lt;/p&gt;
&lt;h2 id=&#34;解决方法&#34;&gt;解决方法&lt;/h2&gt;
&lt;p&gt;设置：externalTrafficPolicy: Local&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>解决k8s 国外镜像下载问题</title>
      <link>https://kurimi1.github.io/post/k8s-mirror/</link>
      <pubDate>Tue, 14 Sep 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/k8s-mirror/</guid>
      <description>&lt;h2 id=&#34;问题描述&#34;&gt;问题描述&lt;/h2&gt;
&lt;p&gt;所有国内镜像库都不可用&lt;/p&gt;
&lt;h2 id=&#34;解决方法-设置代理&#34;&gt;解决方法-设置代理&lt;/h2&gt;
&lt;p&gt;docker 为service，配置代理方法如下&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;注意：将国内库与私有库设置为no_proxy&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;docker-配置代理&#34;&gt;docker 配置代理&lt;/h3&gt;
&lt;p&gt;sudo mkdir -p /etc/systemd/system/docker.service.d&lt;/p&gt;
&lt;p&gt;cat &amp;laquo;EOF | sudo tee /etc/systemd/system/docker.service.d/http-proxy.conf
[Service]
Environment=&amp;ldquo;HTTP_PROXY=socks5://10.67.15.212:1080&amp;rdquo;
Environment=&amp;ldquo;HTTPS_PROXY=socks5://10.67.15.212:1080&amp;rdquo;
Environment=&amp;ldquo;NO_PROXY=localhost,127.0.0.1,docker.mirrors.ustc.edu.cn,docker.io,docker.com,registry.cn-hangzhou.aliyuncs.com,core.harbor.intra.com,10.67.15.211:30003&amp;rdquo;
EOF&lt;/p&gt;
&lt;p&gt;sudo systemctl daemon-reload
sudo systemctl restart docker&lt;/p&gt;
&lt;h4 id=&#34;踩坑&#34;&gt;踩坑&lt;/h4&gt;
&lt;p&gt;这两个官方域名也不能代理docker.io,docker.com&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>解决在vscode中go mod 不在当前目录下的问题</title>
      <link>https://kurimi1.github.io/post/set-vscode-gopls/</link>
      <pubDate>Thu, 19 Aug 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/set-vscode-gopls/</guid>
      <description>&lt;h2 id=&#34;引言&#34;&gt;引言&lt;/h2&gt;
&lt;p&gt;gopls 在0.7版本之前不存在此问题，0.7之后，gopls 在go.mod 不在当前目录下的情况下，会报错，提示找不到 go.mod 文件。&lt;/p&gt;
&lt;h2 id=&#34;gopls设置&#34;&gt;gopls设置&lt;/h2&gt;
&lt;p&gt;参考gopls 文档： &lt;a href=&#34;https://github.com/golang/tools/blob/master/gopls/doc/settings.md&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/golang/tools/blob/master/gopls/doc/settings.md&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;报错的原因&#34;&gt;报错的原因&lt;/h3&gt;
&lt;p&gt;experimentalWorkspaceModule bool&lt;/p&gt;
&lt;p&gt;This setting is experimental and may be deleted.
experimentalWorkspaceModule opts a user into the experimental support for multi-module workspaces.&lt;/p&gt;
&lt;p&gt;Default: false.&lt;/p&gt;
&lt;h2 id=&#34;vscode-中设置&#34;&gt;vscode 中设置&lt;/h2&gt;
&lt;p&gt;在插件设置最底下
















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;./gopls.png&#34; alt=&#34;png&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{
    &amp;quot;gopls&amp;quot;: {
        &amp;quot;experimentalWorkspaceModule&amp;quot;: true
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;解决报错&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>rook-ceph 踩坑</title>
      <link>https://kurimi1.github.io/post/rook-ceph/</link>
      <pubDate>Tue, 17 Aug 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/rook-ceph/</guid>
      <description>&lt;h2 id=&#34;k8s-安装rook-ceph&#34;&gt;k8s 安装rook-ceph&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://rook.io/docs/rook/v1.7/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://rook.io/docs/rook/v1.7/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;添加新磁盘&#34;&gt;添加新磁盘&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#扫描 SCSI总线并添加 SCSI 设备
for host in $(ls /sys/class/scsi_host) ; do echo &amp;quot;- - -&amp;quot; &amp;gt; /sys/class/scsi_host/$host/scan; done

#重新扫描 SCSI 总线
for scsi_device in $(ls /sys/class/scsi_device/); do echo 1 &amp;gt; /sys/class/scsi_device/$scsi_device/device/rescan; done

#查看已添加的磁盘，能够看到sdb说明添加成功
lsblk
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;清理集群&#34;&gt;清理集群&lt;/h2&gt;
&lt;p&gt;关闭pods，才能pvc才能被删除&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://rook.io/docs/rook/v1.7/ceph-teardown.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://rook.io/docs/rook/v1.7/ceph-teardown.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;节点磁盘格式化&#34;&gt;节点磁盘格式化&lt;/h2&gt;
&lt;p&gt;最好每个磁盘都格式化一下&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/usr/bin/env bash
DISK=&amp;quot;/dev/sdd&amp;quot;

# Zap the disk to a fresh, usable state (zap-all is important, b/c MBR has to be clean)

# You will have to run this step for all disks.
sgdisk --zap-all $DISK

# Clean hdds with dd
dd if=/dev/zero of=&amp;quot;$DISK&amp;quot; bs=1M count=100 oflag=direct,dsync

# Clean disks such as ssd with blkdiscard instead of dd
blkdiscard $DISK

# These steps only have to be run once on each node
# If rook sets up osds using ceph-volume, teardown leaves some devices mapped that lock the disks.
ls /dev/mapper/ceph-* | xargs -I% -- dmsetup remove %

# ceph-volume setup can leave ceph-&amp;lt;UUID&amp;gt; directories in /dev and /dev/mapper (unnecessary clutter)
rm -rf /dev/ceph-*
rm -rf /dev/mapper/ceph--*

# Inform the OS of partition table changes
partprobe $DISK

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;删除&#34;&gt;删除&lt;/h2&gt;
&lt;p&gt;删除Ceph集群后，在之前部署Ceph组件节点的/var/lib/rook/目录，会遗留下Ceph集群的配置信息。
若之后再部署新的Ceph集群，先把之前Ceph集群的这些信息删除，不然启动monitor会失败；&lt;/p&gt;
&lt;h3 id=&#34;坑点&#34;&gt;坑点&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;删除前必须先删除所有申请的资源&lt;/li&gt;
&lt;li&gt;记得删除申请的文件系统！！！&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;查看资源&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;kubectl api-resources &amp;ndash;namespaced=true -o name | xargs -n 1 kubectl get &amp;ndash;show-kind &amp;ndash;ignore-not-found -n rook-ceph&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;使用kubectl edit crd clusters.ceph.rook.io编辑
Terminating，把finalizers的值删掉，保存&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.codeleading.com/article/5578440677/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://www.codeleading.com/article/5578440677/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>goalng使用gitlab私有库</title>
      <link>https://kurimi1.github.io/post/golang-use-private-libraries/</link>
      <pubDate>Tue, 03 Aug 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/golang-use-private-libraries/</guid>
      <description>&lt;h2 id=&#34;设置私有库&#34;&gt;设置私有库&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;go env -w GOPRIVATE=&amp;ldquo;gitlab.com&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;如果内网gitlab用的http需设置&#34;&gt;如果内网gitlab用的http需设置&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;go env -w GOINSECURE=&amp;ldquo;gitlab.com&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;坑点被导入的私有库的mod必须包含gitlib&#34;&gt;坑点：被导入的私有库的mod必须包含gitlib&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;module gitlab.com/xxx&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>基于区块链的匿名通信系统</title>
      <link>https://kurimi1.github.io/post/im-blockchain/</link>
      <pubDate>Wed, 28 Jul 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/im-blockchain/</guid>
      <description>&lt;p&gt;对于上面所说的中间人攻击，我觉得可以用区块链解决，所有人公开公钥且公钥不和用户绑定。发消息时用公钥加密广播，仅持有此公钥的私钥的人才能看到所发消息。但存在一个消息泛滥问题，所有人都可以发消息给这个公钥，然而数字货币不会存在（因为没人会随便给你转账），这个问题可以用发消息+数字货币的方式解决。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>osint和recon工具或系统汇总</title>
      <link>https://kurimi1.github.io/post/reconosint-toolssystem/</link>
      <pubDate>Mon, 26 Jul 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/reconosint-toolssystem/</guid>
      <description>&lt;h2 id=&#34;heading&#34;&gt;&lt;/h2&gt;
</description>
    </item>
    
    <item>
      <title>golang的一些笔记</title>
      <link>https://kurimi1.github.io/post/go-base/</link>
      <pubDate>Thu, 22 Jul 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/go-base/</guid>
      <description>&lt;h2 id=&#34;多态的方法&#34;&gt;多态的方法&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;常用的interface接口&lt;/li&gt;
&lt;li&gt;利用反射reflect判断struct的name(或者直接获取xxx.(type))&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;限制并发&#34;&gt;限制并发&lt;/h2&gt;
&lt;p&gt;分为以下2个方面，最佳实践为协程数量&amp;gt;并发数量，通常起多少个协程就代表进行多少并发，因为go本身还有其他协程，因此协程数&amp;gt;并发数。&lt;/p&gt;
&lt;h3 id=&#34;限制创建协程数量&#34;&gt;限制创建协程数量&lt;/h3&gt;
&lt;p&gt;limiter在协程创建之前&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;limiter &amp;lt;- struct{}{}
go func
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;限制协程并发数量&#34;&gt;限制协程并发数量&lt;/h3&gt;
&lt;p&gt;limiter在协程之中&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;go func () {
    limiter &amp;lt;- struct{}{}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;释放limiter&#34;&gt;释放limiter&lt;/h3&gt;
&lt;p&gt;建议使用defer释放，当协程panic后保障释放&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;go func () {
    defer func (){
        &amp;lt;-limiter
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;waitgroup&#34;&gt;waitgroup&lt;/h2&gt;
&lt;p&gt;wg.add()必须在协程前添加&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;wg.Add(1)
go func () 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果在协程能add，会造成协程还没add，wait就先执行就直接退出了&lt;/p&gt;
&lt;h2 id=&#34;从chan中动态起协程仅适用于不需要退出的场景&#34;&gt;从chan中动态起协程，仅适用于不需要退出的场景&lt;/h2&gt;
&lt;p&gt;不能使用waitgroup，因为协程是动态增减的，会在某个瞬间为0
for chan里不能使用wg&lt;/p&gt;
&lt;p&gt;优点：不需要初始化协程数量，节约内存
缺点：无法使用wg，无法确定所有协程结束时间&lt;/p&gt;
&lt;h2 id=&#34;pcre正则比标准库快1倍多&#34;&gt;pcre正则比标准库快1倍多&lt;/h2&gt;
&lt;p&gt;rust nim最快，可以使用cgo调用&lt;/p&gt;
&lt;h2 id=&#34;程序并发设置&#34;&gt;程序并发设置&lt;/h2&gt;
&lt;p&gt;如果是多任务，直接给任务设置并发，任务内没必要再并发&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>使用Telepresence本地开发调试k8s微服务</title>
      <link>https://kurimi1.github.io/post/telepresence/</link>
      <pubDate>Fri, 16 Jul 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/telepresence/</guid>
      <description>&lt;h2 id=&#34;介绍&#34;&gt;介绍&lt;/h2&gt;
&lt;p&gt;借助Telepresence实现以下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本地服务可以访问k8s集群内的服务&lt;/li&gt;
&lt;li&gt;别人访问k8s集群内的服务，请求可以转发到我本地，从而能够debug&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;安装&#34;&gt;安装&lt;/h2&gt;
&lt;p&gt;官方文档
&lt;a href=&#34;https://www.telepresence.io/docs/latest/howtos/intercepts/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://www.telepresence.io/docs/latest/howtos/intercepts/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;配置&#34;&gt;配置&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mkdir -p ~/.kube/config
# 将master的kubeconfig拷贝到~/.kube/config/
vim config
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;踩坑&#34;&gt;踩坑&lt;/h2&gt;
&lt;p&gt;因为是本地开发，所以需要设置一下环境变量，否则会报错
设置hosts   k8s API server的IP地址&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;echo &amp;quot;10.254.0.1 kubernetes&amp;quot; &amp;gt;&amp;gt; /etc/hosts
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;链接&#34;&gt;链接&lt;/h2&gt;
&lt;p&gt;telepresence connect&lt;/p&gt;
&lt;h2 id=&#34;断开&#34;&gt;断开&lt;/h2&gt;
&lt;p&gt;telepresence quit&lt;/p&gt;
&lt;h2 id=&#34;bug&#34;&gt;bug&lt;/h2&gt;
&lt;p&gt;终端链接数据库，会断&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>es note</title>
      <link>https://kurimi1.github.io/post/es/</link>
      <pubDate>Tue, 13 Jul 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/es/</guid>
      <description>&lt;h2 id=&#34;es7中-golang客户端聚合查询&#34;&gt;es7中 golang客户端聚合查询&lt;/h2&gt;
&lt;p&gt;es7 中term无法使用多字段因此使用bool聚合查询
must下匹配，filter进行过滤，range定义范围&lt;/p&gt;
&lt;h2 id=&#34;查询方法&#34;&gt;查询方法&lt;/h2&gt;
&lt;p&gt;term 精准
match 模糊
match_phrase 模糊但只保留那些包含全部搜索词项，且位置与搜索词项相同的文档&lt;/p&gt;
&lt;h2 id=&#34;docker-部署的es无法探测&#34;&gt;docker 部署的ES无法探测&lt;/h2&gt;
&lt;p&gt;解决方法：
set false&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;client, err = elastic.NewClient(elastic.SetSniff(false), elastic.SetURL(es_addr))&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;eck-安装es取消安全选项&#34;&gt;eck 安装es，取消安全选项&lt;/h2&gt;
&lt;h3 id=&#34;eck需要配置&#34;&gt;eck需要配置&lt;/h3&gt;
&lt;p&gt;setDefaultSecurityContext: false&lt;/p&gt;
&lt;h3 id=&#34;es-需要配置&#34;&gt;es 需要配置&lt;/h3&gt;
&lt;p&gt;config:
xpack.security.enabled: false
xpack.security.http.ssl.enabled: false
xpack.security.transport.ssl.enabled: false
xpack.security.authc.reserved_realm.enabled: false&lt;/p&gt;
&lt;h3 id=&#34;其他配置&#34;&gt;其他配置&lt;/h3&gt;
&lt;p&gt;取消就绪检测等&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>redis note</title>
      <link>https://kurimi1.github.io/post/redis/</link>
      <pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/redis/</guid>
      <description>&lt;h2 id=&#34;获取所有key&#34;&gt;获取所有key&lt;/h2&gt;
&lt;p&gt;keys *&lt;/p&gt;
&lt;h2 id=&#34;docker-安装redis&#34;&gt;docker 安装redis&lt;/h2&gt;
&lt;p&gt;持久化
docker run &amp;ndash;name some-redis -d -p 6379:6379 redis redis-server &amp;ndash;appendonly yes&lt;/p&gt;
&lt;h2 id=&#34;查看key的过期时间&#34;&gt;查看key的过期时间&lt;/h2&gt;
&lt;p&gt;ttl key&lt;/p&gt;
&lt;h2 id=&#34;查看key的类型&#34;&gt;查看key的类型&lt;/h2&gt;
&lt;p&gt;type key&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>go test</title>
      <link>https://kurimi1.github.io/post/go-test/</link>
      <pubDate>Thu, 08 Jul 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/go-test/</guid>
      <description>&lt;h2 id=&#34;指定测试函数&#34;&gt;指定测试函数&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;go test -v -test.run xxxx&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;使用正则指定&lt;/p&gt;
&lt;p&gt;go test -run ^xxx&amp;amp;&lt;/p&gt;
&lt;h2 id=&#34;基准测试&#34;&gt;基准测试&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;go test -benchmem -run=^&amp;amp; -bench ^xxx$
必须使用-run=^&amp;amp;才能指定测试某个基准测试，否在单测基测都会执行&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;并发基准测试&#34;&gt;并发基准测试&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;b.Setparallelism(2) // 设置并发数量2x核心数
b.Runparallel(func(pb *testing.PB) {
    for pb.Next() {
        xx()
    }
})
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>关于使用https的坑</title>
      <link>https://kurimi1.github.io/post/https-verify/</link>
      <pubDate>Wed, 07 Jul 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/https-verify/</guid>
      <description>&lt;h2 id=&#34;x509-cannot-validate-certificate-for-xxxx-because-it-doesnt-contain-any-ip-sans-解决方法&#34;&gt;x509: cannot validate certificate for x.x.x.x because it doesn&amp;rsquo;t contain any IP SANs 解决方法&lt;/h2&gt;
&lt;p&gt;这种问题通常出现在ip使用https时(k8s自动生成证书)。因为k8s生成的证书的Subject Alternative Name都是DNS解析的，所以使用nodeport发布服务时node的ip地址不在验证域中，解决方法有两种&lt;/p&gt;
&lt;h3 id=&#34;1客户端取消证书验证&#34;&gt;1：客户端取消证书验证&lt;/h3&gt;
&lt;p&gt;例如docker 使用insecure-registries配置&lt;/p&gt;
&lt;h3 id=&#34;2重新生成服务端证书&#34;&gt;2：重新生成服务端证书&lt;/h3&gt;
&lt;p&gt;自签证书被某些客户端 || sdk无法验证，只能采用第一种方式&lt;/p&gt;
&lt;h4 id=&#34;查看证书公钥命令&#34;&gt;查看证书（公钥）命令&lt;/h4&gt;
&lt;p&gt;openssl x509 -in ./public.crt -noout -text&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;在Subject Alternative Name中添加ip&lt;/p&gt;
&lt;h4 id=&#34;创建一个以opensslconf以下内容命名的文件设置ip1和或dns1指向正确的-ipdns-地址&#34;&gt;创建一个以openssl.conf以下内容命名的文件。设置IP.1和/或DNS.1指向正确的 IP/DNS 地址&lt;/h4&gt;
&lt;p&gt;[req]
distinguished_name = req_distinguished_name
x509_extensions = v3_req
prompt = no&lt;/p&gt;
&lt;p&gt;[req_distinguished_name]
C = US
ST = VA
L = Somewhere
O = MyOrg
OU = MyOU
CN = MyServerName&lt;/p&gt;
&lt;p&gt;[v3_req]
subjectAltName = @alt_names&lt;/p&gt;
&lt;p&gt;[alt_names]
IP.1 = 127.0.0.1
DNS.1 = localhost&lt;/p&gt;
&lt;p&gt;IP地址不能使用CIDR格式，必须指定到ip&lt;/p&gt;
&lt;h4 id=&#34;openssl通过指定配置文件运行并在出现提示时输入密码&#34;&gt;openssl通过指定配置文件运行并在出现提示时输入密码&lt;/h4&gt;
&lt;p&gt;openssl req -new -x509 -nodes -days 730 -key private.key -out public.crt -config openssl.conf&lt;/p&gt;
&lt;p&gt;修改完证书后需要重启&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>go-zero note</title>
      <link>https://kurimi1.github.io/post/go-zero/</link>
      <pubDate>Wed, 23 Jun 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/go-zero/</guid>
      <description>&lt;h2 id=&#34;config使用环境变量&#34;&gt;config使用环境变量&lt;/h2&gt;
&lt;p&gt;添加option&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;conf.MustLoad(*configFile, &amp;amp;c, conf.UseEnv())
但其他地方不得出现$,会造成误判&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;数据库建立索引会自动生成find代码&#34;&gt;数据库建立索引会自动生成find代码&lt;/h2&gt;
</description>
    </item>
    
    <item>
      <title>protobuf note</title>
      <link>https://kurimi1.github.io/post/protobuf/</link>
      <pubDate>Tue, 22 Jun 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/protobuf/</guid>
      <description>&lt;h2 id=&#34;proto3定义数组类型&#34;&gt;proto3定义数组类型&lt;/h2&gt;
&lt;p&gt;repeated允许字段重复，对于Go语言来说，它会编译成数组(slice of type)类型的格式。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;repeated string Urls = 5;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;proto3返回struct数组&#34;&gt;proto3返回struct数组&lt;/h2&gt;
&lt;p&gt;message foo {
string Title         = 1;
int64 StatusCode     = 2;
int64 Size           = 3;
string Survey        = 4;
repeated string Urls = 5;
string ScreenShot    = 6;
}&lt;/p&gt;
&lt;p&gt;// 返回域名相关情报
message boo {
repeated foo results = 1;
}&lt;/p&gt;
&lt;h2 id=&#34;导入官方提供的proto文件time&#34;&gt;导入官方提供的proto文件，time&lt;/h2&gt;
&lt;p&gt;放置到/usr/local/include
&lt;a href=&#34;https://ask.csdn.net/questions/1010240&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://ask.csdn.net/questions/1010240&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>mysql</title>
      <link>https://kurimi1.github.io/post/mysql/</link>
      <pubDate>Mon, 21 Jun 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/mysql/</guid>
      <description>&lt;h2 id=&#34;好的总结&#34;&gt;好的总结&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/guorui_java/article/details/118558095&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://blog.csdn.net/guorui_java/article/details/118558095&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;mysql修改密码&#34;&gt;mysql修改密码&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ALTER USER &amp;lsquo;root&amp;rsquo;@&amp;rsquo;localhost&amp;rsquo; IDENTIFIED WITH mysql_native_password BY &amp;lsquo;在这里输入你的密码&amp;rsquo;;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;mysql-创建用户及授权&#34;&gt;mysql 创建用户及授权&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;create user &amp;rsquo;test&amp;rsquo;@&amp;rsquo;%&amp;rsquo; identified with mysql_native_password BY &amp;lsquo;密码&amp;rsquo;;
grant all privileges on &lt;em&gt;.&lt;/em&gt; to &amp;rsquo;test1&amp;rsquo;@&amp;rsquo;localhost&amp;rsquo; with grant option;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;更新权限&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;flush privileges;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;mysql-开启命令补全&#34;&gt;mysql 开启命令补全&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;mysql -u root -p &amp;ndash;auto-rehash&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;修改配置文件把127001注释掉&#34;&gt;修改配置文件，把127.0.0.1注释掉&lt;/h2&gt;
&lt;p&gt;vim /etc/mysql/mysql.conf.d/mysqld.cnf&lt;/p&gt;
&lt;h2 id=&#34;varchar&#34;&gt;varchar&lt;/h2&gt;
&lt;p&gt;同样的，varchar(M)中的的M表示保存的最大字符数，单个字母、数字、中文等都是占用一个字符。varchar可存储的长度范围为0-65535字节，此外，varchar需要使用1或者2个额外字节记录字符串的长度：如果列的最大长度小于或等于255字节，则只使用1个字节表示，否则使用2个字节。对于Innodb引擎，utf8字符集来说，单个中文字符占用3个字节，所以varchar(M)中的M最大不会超过21845，即M的范围是[0,21845)，并且M必须指定。另外MySQL规定：单个字段长度不大于65535字节；单行最大限制为65535，这里不包括TEXT、BLOB字段。即单张表中的所有varchar字段定义的长度之和不能大于65535，所以并不是所有varchar(M)字段中的M都可以取到21844&lt;/p&gt;
&lt;h2 id=&#34;mysql-8&#34;&gt;mysql 8&lt;/h2&gt;
&lt;h3 id=&#34;约束字段为unique唯一时会自动建立索引&#34;&gt;约束字段为unique唯一时，会自动建立索引&lt;/h3&gt;
</description>
    </item>
    
    <item>
      <title>vscode设置proto插件</title>
      <link>https://kurimi1.github.io/post/set-vscode-proto-plugin/</link>
      <pubDate>Mon, 21 Jun 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/set-vscode-proto-plugin/</guid>
      <description>&lt;h2 id=&#34;安装插件&#34;&gt;安装插件&lt;/h2&gt;
&lt;p&gt;搜索安装这两个插件，第一个插件会调用第二个插件进行格式化&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vscode-proto3&lt;/li&gt;
&lt;li&gt;clang-format&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;插件配置&#34;&gt;插件配置&lt;/h2&gt;
&lt;p&gt;&amp;ldquo;clang-format:fallback style&amp;rdquo;: &amp;ldquo;google&amp;rdquo;
&amp;ldquo;clang-format.language.proto:style&amp;rdquo;: &amp;ldquo;{ IndentWidth: 4, BasedOnStyle: google, AlignConsecutiveAssignments: true }&amp;rdquo;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>云原生总结</title>
      <link>https://kurimi1.github.io/post/cloud/</link>
      <pubDate>Thu, 17 Jun 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/cloud/</guid>
      <description>&lt;h2 id=&#34;云原生-主流组件&#34;&gt;云原生-主流组件&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Prometheus&lt;/li&gt;
&lt;li&gt;Grafana&lt;/li&gt;
&lt;li&gt;Elasticsearch + Fluentd + Kibana&lt;/li&gt;
&lt;li&gt;Jaeger(调用链路跟踪)&lt;/li&gt;
&lt;li&gt;Chaos Engineering(混沌工程)-chaosmonkey&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;腾讯文章&#34;&gt;腾讯文章&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MjM5ODYwMjI2MA==&amp;amp;mid=2649760560&amp;amp;idx=1&amp;amp;sn=0e644916ed8a8bdcd65e903fb3498e74&amp;amp;chksm=beccb04b89bb395d4461f67cb319293dccc5c51047892bb7692d93e761d67a652eacd83ac62d&amp;amp;mpshare=1&amp;amp;scene=23&amp;amp;srcid=0616zu8zL3I5bYdVMbtposEu&amp;amp;sharer_sharetime=1623846102060&amp;amp;sharer_shareid=8a8cb9782b5089d1e0f623249d1fd45c#rd&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://mp.weixin.qq.com/s?__biz=MjM5ODYwMjI2MA==&amp;mid=2649760560&amp;idx=1&amp;sn=0e644916ed8a8bdcd65e903fb3498e74&amp;chksm=beccb04b89bb395d4461f67cb319293dccc5c51047892bb7692d93e761d67a652eacd83ac62d&amp;mpshare=1&amp;scene=23&amp;srcid=0616zu8zL3I5bYdVMbtposEu&amp;sharer_sharetime=1623846102060&amp;sharer_shareid=8a8cb9782b5089d1e0f623249d1fd45c#rd&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>使用helm安装harbor</title>
      <link>https://kurimi1.github.io/post/harbor/</link>
      <pubDate>Fri, 11 Jun 2021 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/harbor/</guid>
      <description>&lt;h2 id=&#34;helm下载harbor&#34;&gt;helm下载harbor&lt;/h2&gt;
&lt;p&gt;helm repo add harbor &lt;a href=&#34;https://helm.goharbor.io&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://helm.goharbor.io&lt;/a&gt;
helm fetch harbor/harbor &amp;ndash;untar
helm pull harbor/harbor&lt;/p&gt;
&lt;h2 id=&#34;配置主要地方&#34;&gt;配置（主要地方）&lt;/h2&gt;
&lt;p&gt;编辑values.yaml&lt;/p&gt;
&lt;h3 id=&#34;服务方式坑点&#34;&gt;服务方式坑点&lt;/h3&gt;
&lt;p&gt;服务方式：ingress,nodePort
选择ingress需要配置域名服务器，否则需要配置每台机器的hosts。
最主要的是！！！drone ci 的docker plugins无法配置hosts
因此强烈建议内网部署采用nodePort方式()&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;type: nodePort&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;http-or-https-坑点&#34;&gt;http or https 坑点&lt;/h3&gt;
&lt;p&gt;使用nodeport无法使用https,登录会报证书无法验证&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;x509: cannot validate certificate for 10.67.15.211 because it doesn&amp;rsquo;t contain any IP SANs&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;k8s登录坑点&#34;&gt;k8s登录坑点&lt;/h3&gt;
&lt;p&gt;因为是自签证书所以所有节点的docker都要配置insecure-registries,否则无法pull镜像,ingress方式或nodeport都需要配置
for example：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;insecure-registries&amp;rdquo;: [&amp;ldquo;harbor.com&amp;rdquo;, &amp;ldquo;10.67.15.211:30003&amp;rdquo;]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;docker默认配置针对127.0.0.0/8本地回环地址不验证，但还有10.0.0.0/8这个内网&lt;/p&gt;
&lt;h3 id=&#34;externalurl&#34;&gt;externalURL&lt;/h3&gt;
&lt;p&gt;协议://ip：端口&lt;/p&gt;
&lt;h3 id=&#34;pvc配置&#34;&gt;pvc配置&lt;/h3&gt;
&lt;p&gt;提供storageClass即可&lt;/p&gt;
&lt;h2 id=&#34;配置docker-http登录&#34;&gt;配置docker http登录&lt;/h2&gt;
&lt;p&gt;vim /etc/docker/daemon.json&lt;/p&gt;
&lt;p&gt;添加haobor地址&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;insecure-registries&amp;rdquo;: [&amp;ldquo;10.67.15.211:30005&amp;rdquo;]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;systemctl daemon-reload&lt;/p&gt;
&lt;p&gt;systemctl restart docker&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Welcome to Wowchemy, the website builder for Hugo</title>
      <link>https://kurimi1.github.io/post/getting-started/</link>
      <pubDate>Sun, 13 Dec 2020 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/getting-started/</guid>
      <description>&lt;h2 id=&#34;overview&#34;&gt;Overview&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;The Wowchemy website builder for Hugo, along with its starter templates, is designed for professional creators, educators, and teams/organizations - although it can be used to create any kind of site&lt;/li&gt;
&lt;li&gt;The template can be modified and customised to suit your needs. It&amp;rsquo;s a good platform for anyone looking to take control of their data and online identity whilst having the convenience to start off with a &lt;strong&gt;no-code solution (write in Markdown and customize with YAML parameters)&lt;/strong&gt; and having &lt;strong&gt;flexibility to later add even deeper personalization with HTML and CSS&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;You can work with all your favourite tools and apps with hundreds of plugins and integrations to speed up your workflows, interact with your readers, and much more&lt;/li&gt;
&lt;/ol&gt;














&lt;figure  id=&#34;figure-the-template-is-mobile-first-with-a-responsive-design-to-ensure-that-your-site-looks-stunning-on-every-device&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://raw.githubusercontent.com/wowchemy/wowchemy-hugo-modules/master/academic.png&#34; alt=&#34;The template is mobile first with a responsive design to ensure that your site looks stunning on every device.&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      The template is mobile first with a responsive design to ensure that your site looks stunning on every device.
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;h2 id=&#34;get-started&#34;&gt;Get Started&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;👉 &lt;a href=&#34;https://wowchemy.com/templates/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Create a new site&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;📚 &lt;a href=&#34;https://wowchemy.com/docs/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Personalize your site&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;💬 &lt;a href=&#34;https://discord.gg/z8wNYzb&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chat with the &lt;strong&gt;Wowchemy community&lt;/strong&gt;&lt;/a&gt; or &lt;a href=&#34;https://discourse.gohugo.io&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Hugo community&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;🐦 Twitter: &lt;a href=&#34;https://twitter.com/wowchemy&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;@wowchemy&lt;/a&gt; &lt;a href=&#34;https://twitter.com/GeorgeCushen&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;@GeorgeCushen&lt;/a&gt; &lt;a href=&#34;https://twitter.com/search?q=%28%23MadeWithWowchemy%20OR%20%23MadeWithAcademic%29&amp;amp;src=typed_query&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#MadeWithWowchemy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;💡 &lt;a href=&#34;https://github.com/wowchemy/wowchemy-hugo-modules/issues&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Request a &lt;strong&gt;feature&lt;/strong&gt; or report a &lt;strong&gt;bug&lt;/strong&gt; for &lt;em&gt;Wowchemy&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;⬆️ &lt;strong&gt;Updating Wowchemy?&lt;/strong&gt; View the &lt;a href=&#34;https://wowchemy.com/docs/guide/update/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Update Guide&lt;/a&gt; and &lt;a href=&#34;https://wowchemy.com/updates/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Release Notes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;crowd-funded-open-source-software&#34;&gt;Crowd-funded open-source software&lt;/h2&gt;
&lt;p&gt;To help us develop this template and software sustainably under the MIT license, we ask all individuals and businesses that use it to help support its ongoing maintenance and development via sponsorship.&lt;/p&gt;
&lt;h3 id=&#34;-click-here-to-become-a-sponsor-and-help-support-wowchemys-future-httpswowchemycomplans&#34;&gt;&lt;a href=&#34;https://wowchemy.com/plans/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;❤️ Click here to become a sponsor and help support Wowchemy&amp;rsquo;s future ❤️&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;As a token of appreciation for sponsoring, you can &lt;strong&gt;unlock &lt;a href=&#34;https://wowchemy.com/plans/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;these&lt;/a&gt; awesome rewards and extra features 🦄✨&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;ecosystem&#34;&gt;Ecosystem&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&#34;https://github.com/wowchemy/hugo-academic-cli&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Hugo Academic CLI&lt;/a&gt;:&lt;/strong&gt; Automatically import publications from BibTeX&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;inspiration&#34;&gt;Inspiration&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://academic-demo.netlify.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Check out the latest &lt;strong&gt;demo&lt;/strong&gt;&lt;/a&gt; of what you&amp;rsquo;ll get in less than 10 minutes, or &lt;a href=&#34;https://wowchemy.com/user-stories/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;view the &lt;strong&gt;showcase&lt;/strong&gt;&lt;/a&gt; of personal, project, and business sites.&lt;/p&gt;
&lt;h2 id=&#34;features&#34;&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Page builder&lt;/strong&gt; - Create &lt;em&gt;anything&lt;/em&gt; with &lt;a href=&#34;https://wowchemy.com/docs/page-builder/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;widgets&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&#34;https://wowchemy.com/docs/writing-markdown-latex/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;elements&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Edit any type of content&lt;/strong&gt; - Blog posts, publications, talks, slides, projects, and more!&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Create content&lt;/strong&gt; in &lt;a href=&#34;https://wowchemy.com/docs/writing-markdown-latex/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Markdown&lt;/strong&gt;&lt;/a&gt;, &lt;a href=&#34;https://wowchemy.com/docs/import/jupyter/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Jupyter&lt;/strong&gt;&lt;/a&gt;, or &lt;a href=&#34;https://wowchemy.com/docs/install-locally/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;RStudio&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Plugin System&lt;/strong&gt; - Fully customizable &lt;a href=&#34;https://wowchemy.com/docs/customization/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;color&lt;/strong&gt; and &lt;strong&gt;font themes&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Display Code and Math&lt;/strong&gt; - Code highlighting and &lt;a href=&#34;https://en.wikibooks.org/wiki/LaTeX/Mathematics&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;LaTeX math&lt;/a&gt; supported&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Integrations&lt;/strong&gt; - &lt;a href=&#34;https://analytics.google.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Google Analytics&lt;/a&gt;, &lt;a href=&#34;https://disqus.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Disqus commenting&lt;/a&gt;, Maps, Contact Forms, and more!&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Beautiful Site&lt;/strong&gt; - Simple and refreshing one page design&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Industry-Leading SEO&lt;/strong&gt; - Help get your website found on search engines and social media&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Media Galleries&lt;/strong&gt; - Display your images and videos with captions in a customizable gallery&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Mobile Friendly&lt;/strong&gt; - Look amazing on every screen with a mobile friendly version of your site&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Multi-language&lt;/strong&gt; - 34+ language packs including English, 中文, and Português&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Multi-user&lt;/strong&gt; - Each author gets their own profile page&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Privacy Pack&lt;/strong&gt; - Assists with GDPR&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Stand Out&lt;/strong&gt; - Bring your site to life with animation, parallax backgrounds, and scroll effects&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;One-Click Deployment&lt;/strong&gt; - No servers. No databases. Only files.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;themes&#34;&gt;Themes&lt;/h2&gt;
&lt;p&gt;Wowchemy and its templates come with &lt;strong&gt;automatic day (light) and night (dark) mode&lt;/strong&gt; built-in. Alternatively, visitors can choose their preferred mode - click the moon icon in the top right of the &lt;a href=&#34;https://academic-demo.netlify.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Demo&lt;/a&gt; to see it in action! Day/night mode can also be disabled by the site  in &lt;code&gt;params.toml&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://wowchemy.com/docs/customization&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Choose a stunning &lt;strong&gt;theme&lt;/strong&gt; and &lt;strong&gt;font&lt;/strong&gt;&lt;/a&gt; for your site. Themes are fully customizable.&lt;/p&gt;
&lt;h2 id=&#34;license&#34;&gt;License&lt;/h2&gt;
&lt;p&gt;Copyright 2016-present &lt;a href=&#34;https://georgecushen.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;George Cushen&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Released under the &lt;a href=&#34;https://github.com/wowchemy/wowchemy-hugo-modules/blob/master/LICENSE.md&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MIT&lt;/a&gt; license.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Writing technical content in Academic</title>
      <link>https://kurimi1.github.io/post/writing-technical-content/</link>
      <pubDate>Fri, 12 Jul 2019 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/writing-technical-content/</guid>
      <description>&lt;p&gt;Academic is designed to give technical content creators a seamless experience. You can focus on the content and Academic handles the rest.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Highlight your code snippets, take notes on math classes, and draw diagrams from textual representation.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;On this page, you&amp;rsquo;ll find some examples of the types of technical content that can be rendered with Academic.&lt;/p&gt;
&lt;h2 id=&#34;examples&#34;&gt;Examples&lt;/h2&gt;
&lt;h3 id=&#34;code&#34;&gt;Code&lt;/h3&gt;
&lt;p&gt;Academic supports a Markdown extension for highlighting code syntax. You can enable this feature by toggling the &lt;code&gt;highlight&lt;/code&gt; option in your &lt;code&gt;config/_default/params.toml&lt;/code&gt; file.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```python
import pandas as pd
data = pd.read_csv(&amp;quot;data.csv&amp;quot;)
data.head()
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import pandas as pd
data = pd.read_csv(&amp;quot;data.csv&amp;quot;)
data.head()
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;charts&#34;&gt;Charts&lt;/h3&gt;
&lt;p&gt;Academic supports the popular &lt;a href=&#34;https://plot.ly/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Plotly&lt;/a&gt; chart format.&lt;/p&gt;
&lt;p&gt;Save your Plotly JSON in your page folder, for example &lt;code&gt;chart.json&lt;/code&gt;, and then add the &lt;code&gt;{{&amp;lt; chart data=&amp;quot;chart&amp;quot; &amp;gt;}}&lt;/code&gt; shortcode where you would like the chart to appear.&lt;/p&gt;
&lt;p&gt;Demo:&lt;/p&gt;


&lt;div id=&#34;chart-539147268&#34; class=&#34;chart&#34;&gt;&lt;/div&gt;
&lt;script&gt;
  (function() {
    let a = setInterval( function() {
      if ( typeof window.Plotly === &#39;undefined&#39; ) {
        return;
      }
      clearInterval( a );

      Plotly.d3.json(&#34;./line-chart.json&#34;, function(chart) {
        Plotly.plot(&#39;chart-539147268&#39;, chart.data, chart.layout, {responsive: true});
      });
    }, 500 );
  })();
&lt;/script&gt;
&lt;p&gt;You might also find the &lt;a href=&#34;http://plotly-json-editor.getforge.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Plotly JSON Editor&lt;/a&gt; useful.&lt;/p&gt;
&lt;h3 id=&#34;math&#34;&gt;Math&lt;/h3&gt;
&lt;p&gt;Academic supports a Markdown extension for $\LaTeX$ math. You can enable this feature by toggling the &lt;code&gt;math&lt;/code&gt; option in your &lt;code&gt;config/_default/params.toml&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;To render &lt;em&gt;inline&lt;/em&gt; or &lt;em&gt;block&lt;/em&gt; math, wrap your LaTeX math with &lt;code&gt;$...$&lt;/code&gt; or &lt;code&gt;$$...$$&lt;/code&gt;, respectively.&lt;/p&gt;
&lt;p&gt;Example &lt;strong&gt;math block&lt;/strong&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;$$\gamma_{n} = \frac{ 
\left | \left (\mathbf x_{n} - \mathbf x_{n-1} \right )^T 
\left [\nabla F (\mathbf x_{n}) - \nabla F (\mathbf x_{n-1}) \right ] \right |}
{\left \|\nabla F(\mathbf{x}_{n}) - \nabla F(\mathbf{x}_{n-1}) \right \|^2}$$
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;p&gt;$$\gamma_{n} = \frac{ \left | \left (\mathbf x_{n} - \mathbf x_{n-1} \right )^T \left [\nabla F (\mathbf x_{n}) - \nabla F (\mathbf x_{n-1}) \right ] \right |}{\left |\nabla F(\mathbf{x}&lt;em&gt;{n}) - \nabla F(\mathbf{x}&lt;/em&gt;{n-1}) \right |^2}$$&lt;/p&gt;
&lt;p&gt;Example &lt;strong&gt;inline math&lt;/strong&gt; &lt;code&gt;$\nabla F(\mathbf{x}_{n})$&lt;/code&gt; renders as $\nabla F(\mathbf{x}_{n})$.&lt;/p&gt;
&lt;p&gt;Example &lt;strong&gt;multi-line math&lt;/strong&gt; using the &lt;code&gt;\\\\&lt;/code&gt; math linebreak:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;$$f(k;p_{0}^{*}) = \begin{cases}p_{0}^{*} &amp;amp; \text{if }k=1, \\\\
1-p_{0}^{*} &amp;amp; \text{if }k=0.\end{cases}$$
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;p&gt;$$f(k;p_{0}^{&lt;em&gt;}) = \begin{cases}p_{0}^{&lt;/em&gt;} &amp;amp; \text{if }k=1, \\
1-p_{0}^{*} &amp;amp; \text{if }k=0.\end{cases}$$&lt;/p&gt;
&lt;h3 id=&#34;diagrams&#34;&gt;Diagrams&lt;/h3&gt;
&lt;p&gt;Academic supports a Markdown extension for diagrams. You can enable this feature by toggling the &lt;code&gt;diagram&lt;/code&gt; option in your &lt;code&gt;config/_default/params.toml&lt;/code&gt; file or by adding &lt;code&gt;diagram: true&lt;/code&gt; to your page front matter.&lt;/p&gt;
&lt;p&gt;An example &lt;strong&gt;flowchart&lt;/strong&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```mermaid
graph TD
A[Hard] --&amp;gt;|Text| B(Round)
B --&amp;gt; C{Decision}
C --&amp;gt;|One| D[Result 1]
C --&amp;gt;|Two| E[Result 2]
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-mermaid&#34;&gt;graph TD
A[Hard] --&amp;gt;|Text| B(Round)
B --&amp;gt; C{Decision}
C --&amp;gt;|One| D[Result 1]
C --&amp;gt;|Two| E[Result 2]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;An example &lt;strong&gt;sequence diagram&lt;/strong&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```mermaid
sequenceDiagram
Alice-&amp;gt;&amp;gt;John: Hello John, how are you?
loop Healthcheck
    John-&amp;gt;&amp;gt;John: Fight against hypochondria
end
Note right of John: Rational thoughts!
John--&amp;gt;&amp;gt;Alice: Great!
John-&amp;gt;&amp;gt;Bob: How about you?
Bob--&amp;gt;&amp;gt;John: Jolly good!
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-mermaid&#34;&gt;sequenceDiagram
Alice-&amp;gt;&amp;gt;John: Hello John, how are you?
loop Healthcheck
    John-&amp;gt;&amp;gt;John: Fight against hypochondria
end
Note right of John: Rational thoughts!
John--&amp;gt;&amp;gt;Alice: Great!
John-&amp;gt;&amp;gt;Bob: How about you?
Bob--&amp;gt;&amp;gt;John: Jolly good!
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;An example &lt;strong&gt;Gantt diagram&lt;/strong&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```mermaid
gantt
section Section
Completed :done,    des1, 2014-01-06,2014-01-08
Active        :active,  des2, 2014-01-07, 3d
Parallel 1   :         des3, after des1, 1d
Parallel 2   :         des4, after des1, 1d
Parallel 3   :         des5, after des3, 1d
Parallel 4   :         des6, after des4, 1d
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-mermaid&#34;&gt;gantt
section Section
Completed :done,    des1, 2014-01-06,2014-01-08
Active        :active,  des2, 2014-01-07, 3d
Parallel 1   :         des3, after des1, 1d
Parallel 2   :         des4, after des1, 1d
Parallel 3   :         des5, after des3, 1d
Parallel 4   :         des6, after des4, 1d
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;An example &lt;strong&gt;class diagram&lt;/strong&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```mermaid
classDiagram
Class01 &amp;lt;|-- AveryLongClass : Cool
&amp;lt;&amp;lt;interface&amp;gt;&amp;gt; Class01
Class09 --&amp;gt; C2 : Where am i?
Class09 --* C3
Class09 --|&amp;gt; Class07
Class07 : equals()
Class07 : Object[] elementData
Class01 : size()
Class01 : int chimp
Class01 : int gorilla
class Class10 {
  &amp;lt;&amp;lt;service&amp;gt;&amp;gt;
  int id
  size()
}
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-mermaid&#34;&gt;classDiagram
Class01 &amp;lt;|-- AveryLongClass : Cool
&amp;lt;&amp;lt;interface&amp;gt;&amp;gt; Class01
Class09 --&amp;gt; C2 : Where am i?
Class09 --* C3
Class09 --|&amp;gt; Class07
Class07 : equals()
Class07 : Object[] elementData
Class01 : size()
Class01 : int chimp
Class01 : int gorilla
class Class10 {
  &amp;lt;&amp;lt;service&amp;gt;&amp;gt;
  int id
  size()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;An example &lt;strong&gt;state diagram&lt;/strong&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```mermaid
stateDiagram
[*] --&amp;gt; Still
Still --&amp;gt; [*]
Still --&amp;gt; Moving
Moving --&amp;gt; Still
Moving --&amp;gt; Crash
Crash --&amp;gt; [*]
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-mermaid&#34;&gt;stateDiagram
[*] --&amp;gt; Still
Still --&amp;gt; [*]
Still --&amp;gt; Moving
Moving --&amp;gt; Still
Moving --&amp;gt; Crash
Crash --&amp;gt; [*]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;todo-lists&#34;&gt;Todo lists&lt;/h3&gt;
&lt;p&gt;You can even write your todo lists in Academic too:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;- [x] Write math example
- [x] Write diagram example
- [ ] Do something else
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Write math example&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Write diagram example&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Do something else&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;tables&#34;&gt;Tables&lt;/h3&gt;
&lt;p&gt;Represent your data in tables:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;| First Header  | Second Header |
| ------------- | ------------- |
| Content Cell  | Content Cell  |
| Content Cell  | Content Cell  |
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;First Header&lt;/th&gt;
&lt;th&gt;Second Header&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Content Cell&lt;/td&gt;
&lt;td&gt;Content Cell&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Content Cell&lt;/td&gt;
&lt;td&gt;Content Cell&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;callouts&#34;&gt;Callouts&lt;/h3&gt;
&lt;p&gt;Academic supports a &lt;a href=&#34;https://wowchemy.com/docs/content/writing-markdown-latex/#callouts&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;shortcode for callouts&lt;/a&gt;, also referred to as &lt;em&gt;asides&lt;/em&gt;, &lt;em&gt;hints&lt;/em&gt;, or &lt;em&gt;alerts&lt;/em&gt;. By wrapping a paragraph in &lt;code&gt;{{% callout note %}} ... {{% /callout %}}&lt;/code&gt;, it will render as an aside.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;{{% callout note %}}
A Markdown aside is useful for displaying notices, hints, or definitions to your readers.
{{% /callout %}}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    A Markdown aside is useful for displaying notices, hints, or definitions to your readers.
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;spoilers&#34;&gt;Spoilers&lt;/h3&gt;
&lt;p&gt;Add a spoiler to a page to reveal text, such as an answer to a question, after a button is clicked.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;{{&amp;lt; spoiler text=&amp;quot;Click to view the spoiler&amp;quot; &amp;gt;}}
You found me!
{{&amp;lt; /spoiler &amp;gt;}}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;details class=&#34;spoiler &#34;  id=&#34;spoiler-2&#34;&gt;
  &lt;summary&gt;Click to view the spoiler&lt;/summary&gt;
  &lt;p&gt;You found me!&lt;/p&gt;
&lt;/details&gt;
&lt;h3 id=&#34;icons&#34;&gt;Icons&lt;/h3&gt;
&lt;p&gt;Academic enables you to use a wide range of &lt;a href=&#34;https://sourcethemes.com/academic/docs/page-builder/#icons&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;icons from &lt;em&gt;Font Awesome&lt;/em&gt; and &lt;em&gt;Academicons&lt;/em&gt;&lt;/a&gt; in addition to &lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/#emojis&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;emojis&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here are some examples using the &lt;code&gt;icon&lt;/code&gt; shortcode to render icons:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;{{&amp;lt; icon name=&amp;quot;terminal&amp;quot; pack=&amp;quot;fas&amp;quot; &amp;gt;}} Terminal  
{{&amp;lt; icon name=&amp;quot;python&amp;quot; pack=&amp;quot;fab&amp;quot; &amp;gt;}} Python  
{{&amp;lt; icon name=&amp;quot;r-project&amp;quot; pack=&amp;quot;fab&amp;quot; &amp;gt;}} R
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;renders as&lt;/p&gt;
&lt;p&gt;
  &lt;i class=&#34;fas fa-terminal  pr-1 fa-fw&#34;&gt;&lt;/i&gt; Terminal&lt;br&gt;

  &lt;i class=&#34;fab fa-python  pr-1 fa-fw&#34;&gt;&lt;/i&gt; Python&lt;br&gt;

  &lt;i class=&#34;fab fa-r-project  pr-1 fa-fw&#34;&gt;&lt;/i&gt; R&lt;/p&gt;
&lt;h3 id=&#34;did-you-find-this-page-helpful-consider-sharing-it-&#34;&gt;Did you find this page helpful? Consider sharing it 🙌&lt;/h3&gt;
</description>
    </item>
    
    <item>
      <title>Display Jupyter Notebooks with Academic</title>
      <link>https://kurimi1.github.io/post/jupyter/</link>
      <pubDate>Tue, 05 Feb 2019 00:00:00 +0000</pubDate>
      <guid>https://kurimi1.github.io/post/jupyter/</guid>
      <description>&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from IPython.core.display import Image
Image(&#39;https://www.python.org/static/community_logos/python-logo-master-v3-TM-flattened.png&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;./index_1_0.png&#34; alt=&#34;png&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;print(&amp;quot;Welcome to Academic!&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Welcome to Academic!
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;install-python-and-jupyterlab&#34;&gt;Install Python and JupyterLab&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.anaconda.com/distribution/#download-section&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Install Anaconda&lt;/a&gt; which includes Python 3 and JupyterLab.&lt;/p&gt;
&lt;p&gt;Alternatively, install JupyterLab with &lt;code&gt;pip3 install jupyterlab&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;create-or-upload-a-jupyter-notebook&#34;&gt;Create or upload a Jupyter notebook&lt;/h2&gt;
&lt;p&gt;Run the following commands in your Terminal, substituting &lt;code&gt;&amp;lt;MY-WEBSITE-FOLDER&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;SHORT-POST-TITLE&amp;gt;&lt;/code&gt; with the file path to your Academic website folder and a short title for your blog post (use hyphens instead of spaces), respectively:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mkdir -p &amp;lt;MY-WEBSITE-FOLDER&amp;gt;/content/post/&amp;lt;SHORT-POST-TITLE&amp;gt;/
cd &amp;lt;MY-WEBSITE-FOLDER&amp;gt;/content/post/&amp;lt;SHORT-POST-TITLE&amp;gt;/
jupyter lab index.ipynb
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;jupyter&lt;/code&gt; command above will launch the JupyterLab editor, allowing us to add Academic metadata and write the content.&lt;/p&gt;
&lt;h2 id=&#34;edit-your-post-metadata&#34;&gt;Edit your post metadata&lt;/h2&gt;
&lt;p&gt;The first cell of your Jupter notebook will contain your post metadata (&lt;a href=&#34;https://sourcethemes.com/academic/docs/front-matter/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;front matter&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;In Jupter, choose &lt;em&gt;Markdown&lt;/em&gt; as the type of the first cell and wrap your Academic metadata in three dashes, indicating that it is YAML front matter:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
title: My post&#39;s title
date: 2019-09-01

# Put any other Academic metadata here...
---
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Edit the metadata of your post, using the &lt;a href=&#34;https://sourcethemes.com/academic/docs/managing-content&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;documentation&lt;/a&gt; as a guide to the available options.&lt;/p&gt;
&lt;p&gt;To set a &lt;a href=&#34;https://sourcethemes.com/academic/docs/managing-content/#featured-image&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;featured image&lt;/a&gt;, place an image named &lt;code&gt;featured&lt;/code&gt; into your post&amp;rsquo;s folder.&lt;/p&gt;
&lt;p&gt;For other tips, such as using math, see the guide on &lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;writing content with Academic&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;convert-notebook-to-markdown&#34;&gt;Convert notebook to Markdown&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;jupyter nbconvert index.ipynb --to markdown --NbConvertApp.output_files_dir=.
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;example&#34;&gt;Example&lt;/h2&gt;
&lt;p&gt;This post was created with Jupyter. The orginal files can be found at &lt;a href=&#34;https://github.com/gcushen/hugo-academic/tree/master/exampleSite/content/post/jupyter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/gcushen/hugo-academic/tree/master/exampleSite/content/post/jupyter&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
