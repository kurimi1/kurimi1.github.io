[{"authors":null,"categories":null,"content":"文档与搜索引擎解决不了的问题\n技术领域总结\n为了Start up\n或许可以记录一些生活\n总结学习到的知识\n","date":1646623797,"expirydate":-62135596800,"kind":"term","lang":"zh","lastmod":1646623797,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"","publishdate":"0001-01-01T00:00:00Z","relpermalink":"","section":"authors","summary":"文档与搜索引擎解决不了的问题 技术领域总结 为了Start up 或许","tags":null,"title":"Donald F","type":"authors"},{"authors":["Donald F"],"categories":["notes"],"content":"下载 有些主题可能不支持，一定要下载extended版本。\n本地预览命令  hugo server –bind 0.0.0.0 -D\n -D 代表编译草稿\n创建post  hugo new –kind post post/my-article-name\n 编译命令  hugo -D\n 发布 push 到 github\ngit add . git commit -m \u0026#34;update\u0026#34; git push origin master  ","date":1646623797,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1646623797,"objectID":"1ba1da42e133e1a006844b4b012bf188","permalink":"https://kurimi1.github.io/post/hugo/","publishdate":"2022-03-07T11:29:57+08:00","relpermalink":"/post/hugo/","section":"post","summary":"简单记录 hugo 使用笔记","tags":["hugo"],"title":"Hugo Notes","type":"post"},{"authors":["Donald F"],"categories":["notes"],"content":"设置net为host  docker run –net host\n 可直接访问\n使用默认的bridge  docker network inspect bridge\n 查看网关，通过网关访问本地网络\n","date":1646389305,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1646389305,"objectID":"d5cb8eaf373cde07f315ace65fd755d3","permalink":"https://kurimi1.github.io/post/docker-link-localnet/","publishdate":"2022-03-04T18:21:45+08:00","relpermalink":"/post/docker-link-localnet/","section":"post","summary":"docker 访问本地网络","tags":["docker"],"title":"Docker Link Localnet","type":"post"},{"authors":["Donald F"],"categories":["go"],"content":"方法  利用channel 第三方库ants，协程池 官方包sync/x/Semaphore  总结 协程池可以复用，节约内存，可以动态调整大小。\nchannel限制并发，可以动态改变吗？\n","date":1635897600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1635897600,"objectID":"404270c3002ffd0a9584cfeec5603fa8","permalink":"https://kurimi1.github.io/post/go-control-goroutine-nums/","publishdate":"2021-11-03T00:00:00Z","relpermalink":"/post/go-control-goroutine-nums/","section":"post","summary":"方式比较到最佳实践","tags":["go"],"title":"go控制协程并发数量","type":"post"},{"authors":["Donald F"],"categories":["golang","项目"],"content":"1期需求整理  全文搜索 指定语言 个人博客上传收录-进行爬取或rss  系统设计  使用gin web框架 ES做全文搜索  ","date":1633910400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1633910400,"objectID":"0660665751c366d65f4b59e5ce1f44d5","permalink":"https://kurimi1.github.io/post/blog-search/","publishdate":"2021-10-11T00:00:00Z","relpermalink":"/post/blog-search/","section":"post","summary":"技术类博客","tags":["项目"],"title":"个人博客搜索引擎","type":"post"},{"authors":["Donald F"],"categories":["总结"],"content":"背景 k8s Cluster模式 访问任何节点ip自带路由跳转(反向代理？)，因此后端获取到的是转换过一次的ip，而不是用户真实ip\n解决方法 设置：externalTrafficPolicy: Local\n","date":1633651200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1633651200,"objectID":"4f688d10e2970e7ceab96a905c2d61b9","permalink":"https://kurimi1.github.io/post/k8s-get-userip/","publishdate":"2021-10-08T00:00:00Z","relpermalink":"/post/k8s-get-userip/","section":"post","summary":"背景 k8s Cluster模式 访问任何节点ip自带路由跳转(反向代","tags":["cloud","kubernetes"],"title":"在k8s中部署的系统获取用户ip","type":"post"},{"authors":["Donald F"],"categories":["教程","踩坑"],"content":"问题描述 所有国内镜像库都不可用\n解决方法-设置代理 docker 为service，配置代理方法如下\n 注意：将国内库与私有库设置为no_proxy\n docker 配置代理 sudo mkdir -p /etc/systemd/system/docker.service.d\ncat «EOF | sudo tee /etc/systemd/system/docker.service.d/http-proxy.conf [Service] Environment=“HTTP_PROXY=socks5://10.67.15.212:1080” Environment=“HTTPS_PROXY=socks5://10.67.15.212:1080” Environment=“NO_PROXY=localhost,127.0.0.1,docker.mirrors.ustc.edu.cn,docker.io,docker.com,registry.cn-hangzhou.aliyuncs.com,core.harbor.intra.com,10.67.15.211:30003” EOF\nsudo systemctl daemon-reload sudo systemctl restart docker\n踩坑 这两个官方域名也不能代理docker.io,docker.com\n","date":1631577600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1631577600,"objectID":"6810bd6122bf064c8ff79e43076ec0db","permalink":"https://kurimi1.github.io/post/k8s-mirror/","publishdate":"2021-09-14T00:00:00Z","relpermalink":"/post/k8s-mirror/","section":"post","summary":"一次性解决所有仓库","tags":["k8s"],"title":"解决k8s 国外镜像下载问题","type":"post"},{"authors":["Donald F"],"categories":["golang"],"content":"引言 gopls 在0.7版本之前不存在此问题，0.7之后，gopls 在go.mod 不在当前目录下的情况下，会报错，提示找不到 go.mod 文件。\ngopls设置 参考gopls 文档： https://github.com/golang/tools/blob/master/gopls/doc/settings.md\n报错的原因 experimentalWorkspaceModule bool\nThis setting is experimental and may be deleted. experimentalWorkspaceModule opts a user into the experimental support for multi-module workspaces.\nDefault: false.\nvscode 中设置 在插件设置最底下   { \u0026#34;gopls\u0026#34;: { \u0026#34;experimentalWorkspaceModule\u0026#34;: true } }  解决报错\n","date":1629331200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1629331200,"objectID":"f0af13943435d67c9a77bb1bcdfd440c","permalink":"https://kurimi1.github.io/post/set-vscode-gopls/","publishdate":"2021-08-19T00:00:00Z","relpermalink":"/post/set-vscode-gopls/","section":"post","summary":"mod 可能在二级文件夹中存在多个","tags":["踩坑","vscode"],"title":"解决在vscode中go mod 不在当前目录下的问题","type":"post"},{"authors":["Donald F"],"categories":["总结"],"content":"k8s 安装rook-ceph https://rook.io/docs/rook/v1.7/\n添加新磁盘 #扫描 SCSI总线并添加 SCSI 设备 for host in $(ls /sys/class/scsi_host) ; do echo \u0026#34;- - -\u0026#34; \u0026gt; /sys/class/scsi_host/$host/scan; done #重新扫描 SCSI 总线 for scsi_device in $(ls /sys/class/scsi_device/); do echo 1 \u0026gt; /sys/class/scsi_device/$scsi_device/device/rescan; done #查看已添加的磁盘，能够看到sdb说明添加成功 lsblk  清理集群 关闭pods，才能pvc才能被删除\nhttps://rook.io/docs/rook/v1.7/ceph-teardown.html\n节点磁盘格式化 最好每个磁盘都格式化一下\n#!/usr/bin/env bash DISK=\u0026#34;/dev/sdd\u0026#34; # Zap the disk to a fresh, usable state (zap-all is important, b/c MBR has to be clean) # You will have to run this step for all disks. sgdisk --zap-all $DISK # Clean hdds with dd dd if=/dev/zero of=\u0026#34;$DISK\u0026#34; bs=1M count=100 oflag=direct,dsync # Clean disks such as ssd with blkdiscard instead of dd blkdiscard $DISK # These steps only have to be run once on each node # If rook sets up osds using ceph-volume, teardown leaves some devices mapped that lock the disks. ls /dev/mapper/ceph-* | xargs -I% -- dmsetup remove % # ceph-volume setup can leave ceph-\u0026lt;UUID\u0026gt; directories in /dev and /dev/mapper (unnecessary clutter) rm -rf /dev/ceph-* rm -rf /dev/mapper/ceph--* # Inform the OS of partition table changes partprobe $DISK  删除 删除Ceph集群后，在之前部署Ceph组件节点的/var/lib/rook/目录，会遗留下Ceph集群的配置信息。 若之后再部署新的Ceph集群，先把之前Ceph集群的这些信息删除，不然启动monitor会失败；\n坑点  删除前必须先删除所有申请的资源 记得删除申请的文件系统！！！  查看资源\n kubectl api-resources –namespaced=true -o name | xargs -n 1 kubectl get –show-kind –ignore-not-found -n rook-ceph\n 使用kubectl edit crd clusters.ceph.rook.io编辑 Terminating，把finalizers的值删掉，保存\nhttps://www.codeleading.com/article/5578440677/\n","date":1629158400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1629158400,"objectID":"866fee0180f5f0c0ae06ece63698c454","permalink":"https://kurimi1.github.io/post/rook-ceph/","publishdate":"2021-08-17T00:00:00Z","relpermalink":"/post/rook-ceph/","section":"post","summary":"k8s 安装rook-ceph https://rook.io/docs/rook/v1.7/ 添加新磁盘 #扫描 SCSI总线并添加","tags":["cloud","kubernetes"],"title":"rook-ceph 踩坑","type":"post"},{"authors":["Donald F"],"categories":["golang"],"content":"设置私有库  go env -w GOPRIVATE=“gitlab.com”\n 如果内网gitlab用的http需设置  go env -w GOINSECURE=“gitlab.com”\n 坑点：被导入的私有库的mod必须包含gitlib  module gitlab.com/xxx\n ","date":1627948800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1627948800,"objectID":"3c2d7d222660ab67dc3b97955f5b3492","permalink":"https://kurimi1.github.io/post/golang-use-private-libraries/","publishdate":"2021-08-03T00:00:00Z","relpermalink":"/post/golang-use-private-libraries/","section":"post","summary":"设置私有库 go env -w GOPRIVATE=“gitlab.com” 如果内网gitlab用的http需设置 go env","tags":["教程","踩坑"],"title":"goalng使用gitlab私有库","type":"post"},{"authors":["Donald F"],"categories":["golang","项目","区块链"],"content":"对于上面所说的中间人攻击，我觉得可以用区块链解决，所有人公开公钥且公钥不和用户绑定。发消息时用公钥加密广播，仅持有此公钥的私钥的人才能看到所发消息。但存在一个消息泛滥问题，所有人都可以发消息给这个公钥，然而数字货币不会存在（因为没人会随便给你转账），这个问题可以用发消息+数字货币的方式解决。\n","date":1627430400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1627430400,"objectID":"092666c933b810540a8ec56d7927656d","permalink":"https://kurimi1.github.io/post/im-blockchain/","publishdate":"2021-07-28T00:00:00Z","relpermalink":"/post/im-blockchain/","section":"post","summary":"im+blockchain","tags":["区块链"],"title":"基于区块链的匿名通信系统","type":"post"},{"authors":["Donald F"],"categories":["recon"],"content":" ","date":1627257600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1627257600,"objectID":"f3a90c64875b3885010846ede82867f4","permalink":"https://kurimi1.github.io/post/reconosint-toolssystem/","publishdate":"2021-07-26T00:00:00Z","relpermalink":"/post/reconosint-toolssystem/","section":"post","summary":"recon系统汇总","tags":["osint","recon"],"title":"osint和recon工具或系统汇总","type":"post"},{"authors":["Donald F"],"categories":["golang","note"],"content":"多态的方法  常用的interface接口 利用反射reflect判断struct的name(或者直接获取xxx.(type))  ","date":1626912000,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1626912000,"objectID":"b7d5a5e058b6d4e7614a408e9becb604","permalink":"https://kurimi1.github.io/post/go-base/","publishdate":"2021-07-22T00:00:00Z","relpermalink":"/post/go-base/","section":"post","summary":"golang笔记","tags":["note","course","pitfall"],"title":"golang的一些笔记","type":"post"},{"authors":["Donald F"],"categories":["k8s"],"content":"介绍 借助Telepresence实现以下：\n 本地服务可以访问k8s集群内的服务 别人访问k8s集群内的服务，请求可以转发到我本地，从而能够debug  安装 官方文档 https://www.telepresence.io/docs/latest/howtos/intercepts/\n配置 mkdir -p ~/.kube/config # 将master的kubeconfig拷贝到~/.kube/config/ vim config  踩坑 因为是本地开发，所以需要设置一下环境变量，否则会报错 设置hosts k8s API server的IP地址\necho \u0026#34;10.254.0.1 kubernetes\u0026#34; \u0026gt;\u0026gt; /etc/hosts  链接 telepresence connect\n断开 telepresence quit\nbug 终端链接数据库，会断\n","date":1626393600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1626393600,"objectID":"47ceb33756e81d1c01936d6f70566ea1","permalink":"https://kurimi1.github.io/post/telepresence/","publishdate":"2021-07-16T00:00:00Z","relpermalink":"/post/telepresence/","section":"post","summary":"本地开发调试k8s微服务","tags":["note","course","pitfall"],"title":"使用Telepresence本地开发调试k8s微服务","type":"post"},{"authors":["Donald F"],"categories":["golang","es","笔记"],"content":"es7中 golang客户端聚合查询 es7 中term无法使用多字段因此使用bool聚合查询 must下匹配，filter进行过滤，range定义范围\n查询方法 term 精准 match 模糊 match_phrase 模糊但只保留那些包含全部搜索词项，且位置与搜索词项相同的文档\ndocker 部署的ES无法探测 解决方法： set false\n client, err = elastic.NewClient(elastic.SetSniff(false), elastic.SetURL(es_addr))\n eck 安装es，取消安全选项 eck需要配置 setDefaultSecurityContext: false\nes 需要配置 config: xpack.security.enabled: false xpack.security.http.ssl.enabled: false xpack.security.transport.ssl.enabled: false xpack.security.authc.reserved_realm.enabled: false\n其他配置 取消就绪检测等\n","date":1626134400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1626134400,"objectID":"a5ec0adf3cb132c78dddfdbee67872f2","permalink":"https://kurimi1.github.io/post/es/","publishdate":"2021-07-13T00:00:00Z","relpermalink":"/post/es/","section":"post","summary":"es 笔记","tags":["es","note"],"title":"es note","type":"post"},{"authors":["Donald F"],"categories":["redis","note"],"content":"获取所有key keys *\ndocker 安装redis 持久化 docker run –name some-redis -d -p 6379:6379 redis redis-server –appendonly yes\n查看key的过期时间 ttl key\n查看key的类型 type key\n","date":1625788800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1625788800,"objectID":"1b52e48bc73ed15008b7fee96998f388","permalink":"https://kurimi1.github.io/post/redis/","publishdate":"2021-07-09T00:00:00Z","relpermalink":"/post/redis/","section":"post","summary":"redis 笔记","tags":["redis","note"],"title":"redis note","type":"post"},{"authors":["Donald F"],"categories":["golang","note"],"content":"指定测试函数  go test -v -test.run xxxx\n ","date":1625702400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1625702400,"objectID":"54cfb85dd9f1735192521a0fd5ac6b96","permalink":"https://kurimi1.github.io/post/go-test/","publishdate":"2021-07-08T00:00:00Z","relpermalink":"/post/go-test/","section":"post","summary":"单元测试，基准测试","tags":["golang","test","note"],"title":"go test","type":"post"},{"authors":["Donald F"],"categories":["部署","踩坑","笔记"],"content":"x509: cannot validate certificate for x.x.x.x because it doesn’t contain any IP SANs 解决方法 这种问题通常出现在ip使用https时(k8s自动生成证书)。因为k8s生成的证书的Subject Alternative Name都是DNS解析的，所以使用nodeport发布服务时node的ip地址不在验证域中，解决方法有两种\n1：客户端取消证书验证 例如docker 使用insecure-registries配置\n2：重新生成服务端证书 自签证书被某些客户端 || sdk无法验证，只能采用第一种方式\n查看证书（公钥）命令 openssl x509 -in ./public.crt -noout -text\n 在Subject Alternative Name中添加ip\n创建一个以openssl.conf以下内容命名的文件。设置IP.1和/或DNS.1指向正确的 IP/DNS 地址 [req] distinguished_name = req_distinguished_name x509_extensions = v3_req prompt = no\n[req_distinguished_name] C = US ST = VA L = Somewhere O = MyOrg OU = MyOU CN = MyServerName\n[v3_req] subjectAltName = @alt_names\n[alt_names] IP.1 = 127.0.0.1 DNS.1 = localhost\nIP地址不能使用CIDR格式，必须指定到ip\nopenssl通过指定配置文件运行并在出现提示时输入密码 openssl req -new -x509 -nodes -days 730 -key private.key -out public.crt -config openssl.conf\n修改完证书后需要重启\n","date":1625616000,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1625616000,"objectID":"de4969fc695906a8675fafa789b5e8d5","permalink":"https://kurimi1.github.io/post/https-verify/","publishdate":"2021-07-07T00:00:00Z","relpermalink":"/post/https-verify/","section":"post","summary":"x509: cannot validate certificate for x.x.x.x because it doesn’t contain any IP SANs 解决方法 这种问题通常出现在ip使用","tags":["证书","https"],"title":"关于使用https的坑","type":"post"},{"authors":["Donald F"],"categories":["golang","踩坑","笔记"],"content":"config使用环境变量 添加option\n conf.MustLoad(*configFile, \u0026amp;c, conf.UseEnv()) 但其他地方不得出现$,会造成误判\n 数据库建立索引会自动生成find代码 ","date":1624406400,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1624406400,"objectID":"f866ab1233a69c8e1e714d9f84ce6e5c","permalink":"https://kurimi1.github.io/post/go-zero/","publishdate":"2021-06-23T00:00:00Z","relpermalink":"/post/go-zero/","section":"post","summary":"go-zero 笔记","tags":["go-zero","note","golang","微服务框架"],"title":"go-zero note","type":"post"},{"authors":["Donald F"],"categories":["序列化","踩坑","笔记"],"content":"proto3定义数组类型 repeated允许字段重复，对于Go语言来说，它会编译成数组(slice of type)类型的格式。\n repeated string Urls = 5;\n proto3返回struct数组 message foo { string Title = 1; int64 StatusCode = 2; int64 Size = 3; string Survey = 4; repeated string Urls = 5; string ScreenShot = 6; }\n// 返回域名相关情报 message boo { repeated foo results = 1; }\n导入官方提供的proto文件，time 放置到/usr/local/include https://ask.csdn.net/questions/1010240\n","date":1624320000,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1624320000,"objectID":"f931a0c6f13e07a1720d2c33a6f4d8a4","permalink":"https://kurimi1.github.io/post/protobuf/","publishdate":"2021-06-22T00:00:00Z","relpermalink":"/post/protobuf/","section":"post","summary":"protobuf 笔记","tags":["proto","note"],"title":"protobuf note","type":"post"},{"authors":["Donald F"],"categories":["mysql"],"content":"好的总结 https://blog.csdn.net/guorui_java/article/details/118558095\nmysql修改密码  ALTER USER ‘root’@’localhost’ IDENTIFIED WITH mysql_native_password BY ‘在这里输入你的密码’;\n mysql 创建用户及授权  create user ’test’@’%’ identified with mysql_native_password BY ‘密码’; grant all privileges on . to ’test1’@’localhost’ with grant option;\n 更新权限\n flush privileges;\n mysql 开启命令补全  mysql -u root -p –auto-rehash\n 修改配置文件，把127.0.0.1注释掉 vim /etc/mysql/mysql.conf.d/mysqld.cnf\nvarchar 同样的，varchar(M)中的的M表示保存的最大字符数，单个字母、数字、中文等都是占用一个字符。varchar可存储的长度范围为0-65535字节，此外，varchar需要使用1或者2个额外字节记录字符串的长度：如果列的最大长度小于或等于255字节，则只使用1个字节表示，否则使用2个字节。对于Innodb引擎，utf8字符集来说，单个中文字符占用3个字节，所以varchar(M)中的M最大不会超过21845，即M的范围是[0,21845)，并且M必须指定。另外MySQL规定：单个字段长度不大于65535字节；单行最大限制为65535，这里不包括TEXT、BLOB字段。即单张表中的所有varchar字段定义的长度之和不能大于65535，所以并不是所有varchar(M)字段中的M都可以取到21844\nmysql 8 约束字段为unique唯一时，会自动建立索引 ","date":1624233600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1624233600,"objectID":"25d9ba3d3ab6374026931b18d52f8cc3","permalink":"https://kurimi1.github.io/post/mysql/","publishdate":"2021-06-21T00:00:00Z","relpermalink":"/post/mysql/","section":"post","summary":"mysql 笔记","tags":["mysql","note"],"title":"mysql","type":"post"},{"authors":["Donald F"],"categories":["proto","vscode"],"content":"安装插件 搜索安装这两个插件，第一个插件会调用第二个插件进行格式化\n vscode-proto3 clang-format  插件配置 “clang-format:fallback style”: “google” “clang-format.language.proto:style”: “{ IndentWidth: 4, BasedOnStyle: google, AlignConsecutiveAssignments: true }”\n","date":1624233600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1624233600,"objectID":"98cc057dbc73cdc87f5859b26e2d6828","permalink":"https://kurimi1.github.io/post/set-vscode-proto-plugin/","publishdate":"2021-06-21T00:00:00Z","relpermalink":"/post/set-vscode-proto-plugin/","section":"post","summary":"高亮，格式化","tags":["vscode","grpc"],"title":"vscode设置proto插件","type":"post"},{"authors":["Donald F"],"categories":["总结"],"content":"云原生-主流组件  Prometheus Grafana Elasticsearch + Fluentd + Kibana Jaeger(调用链路跟踪) Chaos Engineering(混沌工程)-chaosmonkey  腾讯文章 https://mp.weixin.qq.com/s?__biz=MjM5ODYwMjI2MA==\u0026amp;mid=2649760560\u0026amp;idx=1\u0026amp;sn=0e644916ed8a8bdcd65e903fb3498e74\u0026amp;chksm=beccb04b89bb395d4461f67cb319293dccc5c51047892bb7692d93e761d67a652eacd83ac62d\u0026amp;mpshare=1\u0026amp;scene=23\u0026amp;srcid=0616zu8zL3I5bYdVMbtposEu\u0026amp;sharer_sharetime=1623846102060\u0026amp;sharer_shareid=8a8cb9782b5089d1e0f623249d1fd45c#rd\n","date":1623888000,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1623888000,"objectID":"328a7432c485ca2dbe51301b3a8cb8d9","permalink":"https://kurimi1.github.io/post/cloud/","publishdate":"2021-06-17T00:00:00Z","relpermalink":"/post/cloud/","section":"post","summary":"云原生","tags":["cloud","kubernetes"],"title":"云原生总结","type":"post"},{"authors":["Donald F"],"categories":["教程","踩坑"],"content":"helm下载harbor helm repo add harbor https://helm.goharbor.io helm fetch harbor/harbor –untar helm pull harbor/harbor\n配置（主要地方） 编辑values.yaml\n服务方式坑点 服务方式：ingress,nodePort 选择ingress需要配置域名服务器，否则需要配置每台机器的hosts。 最主要的是！！！drone ci 的docker plugins无法配置hosts 因此强烈建议内网部署采用nodePort方式()\n type: nodePort\n http or https 坑点 使用nodeport无法使用https,登录会报证书无法验证\n x509: cannot validate certificate for 10.67.15.211 because it doesn’t contain any IP SANs\n k8s登录坑点 因为是自签证书所以所有节点的docker都要配置insecure-registries,否则无法pull镜像,ingress方式或nodeport都需要配置 for example：\n “insecure-registries”: [“harbor.com”, “10.67.15.211:30003”]\n docker默认配置针对127.0.0.0/8本地回环地址不验证，但还有10.0.0.0/8这个内网\nexternalURL 协议://ip：端口\npvc配置 提供storageClass即可\n配置docker http登录 vim /etc/docker/daemon.json\n添加haobor地址\n “insecure-registries”: [“10.67.15.211:30005”]\n systemctl daemon-reload\nsystemctl restart docker\n","date":1623369600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1623369600,"objectID":"908b628927642e8a6178c161bc6b0795","permalink":"https://kurimi1.github.io/post/harbor/","publishdate":"2021-06-11T00:00:00Z","relpermalink":"/post/harbor/","section":"post","summary":"helm安装harbor教程和遇见的坑","tags":["helm","harbor"],"title":"使用helm安装harbor","type":"post"},{"authors":["Donald F","吳恩達"],"categories":["Demo","教程"],"content":"Overview  The Wowchemy website builder for Hugo, along with its starter templates, is designed for professional creators, educators, and teams/organizations - although it can be used to create any kind of site The template can be modified and customised to suit your needs. It’s a good platform for anyone looking to take control of their data and online identity whilst having the convenience to start off with a no-code solution (write in Markdown and customize with YAML parameters) and having flexibility to later add even deeper personalization with HTML and CSS You can work with all your favourite tools and apps with hundreds of plugins and integrations to speed up your workflows, interact with your readers, and much more    The template is mobile first with a responsive design to ensure that your site looks stunning on every device.  Get Started  👉 Create a new site 📚 Personalize your site 💬 Chat with the Wowchemy community or Hugo community 🐦 Twitter: @wowchemy @GeorgeCushen #MadeWithWowchemy 💡 Request a feature or report a bug for Wowchemy ⬆️ Updating Wowchemy? View the Update Guide and Release Notes  Crowd-funded open-source software To help us develop this template and software sustainably under the MIT license, we ask all individuals and businesses that use it to help support its ongoing maintenance and development via sponsorship.\n❤️ Click here to become a sponsor and help support Wowchemy’s future ❤️ As a token of appreciation for sponsoring, you can unlock these awesome rewards and extra features 🦄✨\nEcosystem  Hugo Academic CLI: Automatically import publications from BibTeX  Inspiration Check out the latest demo of what you’ll get in less than 10 minutes, or view the showcase of personal, project, and business sites.\nFeatures  Page builder - Create anything with widgets and elements Edit any type of content - Blog posts, publications, talks, slides, projects, and more! Create content in Markdown, Jupyter, or RStudio Plugin System - Fully customizable color and font themes Display Code and Math - Code highlighting and LaTeX math supported Integrations - Google Analytics, Disqus commenting, Maps, Contact Forms, and more! Beautiful Site - Simple and refreshing one page design Industry-Leading SEO - Help get your website found on search engines and social media Media Galleries - Display your images and videos with captions in a customizable gallery Mobile Friendly - Look amazing on every screen with a mobile friendly version of your site Multi-language - 34+ language packs including English, 中文, and Português Multi-user - Each author gets their own profile page Privacy Pack - Assists with GDPR Stand Out - Bring your site to life with animation, parallax backgrounds, and scroll effects One-Click Deployment - No servers. No databases. Only files.  Themes Wowchemy and its templates come with automatic day (light) and night (dark) mode built-in. Alternatively, visitors can choose their preferred mode - click the moon icon in the top right of the Demo to see it in action! Day/night mode can also be disabled by the site in params.toml.\nChoose a stunning theme and font for your site. Themes are fully customizable.\nLicense Copyright 2016-present George Cushen.\nReleased under the MIT license.\n","date":1607817600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1607817600,"objectID":"279b9966ca9cf3121ce924dca452bb1c","permalink":"https://kurimi1.github.io/post/getting-started/","publishdate":"2020-12-13T00:00:00Z","relpermalink":"/post/getting-started/","section":"post","summary":"Welcome 👋 We know that first impressions are important, so we've populated your new site with some initial content to help you get familiar with everything in no time.","tags":["Academic","开源"],"title":"Welcome to Wowchemy, the website builder for Hugo","type":"post"},{"authors":null,"categories":null,"content":"Academic is designed to give technical content creators a seamless experience. You can focus on the content and Academic handles the rest.\nHighlight your code snippets, take notes on math classes, and draw diagrams from textual representation.\nOn this page, you’ll find some examples of the types of technical content that can be rendered with Academic.\nExamples Code Academic supports a Markdown extension for highlighting code syntax. You can enable this feature by toggling the highlight option in your config/_default/params.toml file.\n```python import pandas as pd data = pd.read_csv(\u0026#34;data.csv\u0026#34;) data.head() ```  renders as\nimport pandas as pd data = pd.read_csv(\u0026#34;data.csv\u0026#34;) data.head()  Charts Academic supports the popular Plotly chart format.\nSave your Plotly JSON in your page folder, for example chart.json, and then add the {{\u0026lt; chart data=\u0026#34;chart\u0026#34; \u0026gt;}} shortcode where you would like the chart to appear.\nDemo:\n  (function() { let a = setInterval( function() { if ( typeof window.Plotly === \u0026#39;undefined\u0026#39; ) { return; } clearInterval( a ); Plotly.d3.json(\u0026#34;./line-chart.json\u0026#34;, function(chart) { Plotly.plot(\u0026#39;chart-285963174\u0026#39;, chart.data, chart.layout, {responsive: true}); }); }, 500 ); })();  You might also find the Plotly JSON Editor useful.\nMath Academic supports a Markdown extension for $\\LaTeX$ math. You can enable this feature by toggling the math option in your config/_default/params.toml file.\nTo render inline or block math, wrap your LaTeX math with $...$ or $$...$$, respectively.\nExample math block:\n$$\\gamma_{n} = \\frac{ \\left | \\left (\\mathbf x_{n} - \\mathbf x_{n-1} \\right )^T \\left [\\nabla F (\\mathbf x_{n}) - \\nabla F (\\mathbf x_{n-1}) \\right ] \\right |} {\\left \\|\\nabla F(\\mathbf{x}_{n}) - \\nabla F(\\mathbf{x}_{n-1}) \\right \\|^2}$$  renders as\n$$\\gamma_{n} = \\frac{ \\left | \\left (\\mathbf x_{n} - \\mathbf x_{n-1} \\right )^T \\left [\\nabla F (\\mathbf x_{n}) - \\nabla F (\\mathbf x_{n-1}) \\right ] \\right |}{\\left |\\nabla F(\\mathbf{x}{n}) - \\nabla F(\\mathbf{x}{n-1}) \\right |^2}$$\nExample inline math $\\nabla F(\\mathbf{x}_{n})$ renders as $\\nabla F(\\mathbf{x}_{n})$.\nExample multi-line math using the \\\\\\\\ math linebreak:\n$$f(k;p_{0}^{*}) = \\begin{cases}p_{0}^{*} \u0026amp; \\text{if }k=1, \\\\\\\\ 1-p_{0}^{*} \u0026amp; \\text{if }k=0.\\end{cases}$$  renders as\n$$f(k;p_{0}^{}) = \\begin{cases}p_{0}^{} \u0026amp; \\text{if }k=1, \\\\ 1-p_{0}^{*} \u0026amp; \\text{if }k=0.\\end{cases}$$\nDiagrams Academic supports a Markdown extension for diagrams. You can enable this feature by toggling the diagram option in your config/_default/params.toml file or by adding diagram: true to your page front matter.\nAn example flowchart:\n```mermaid graph TD A[Hard] --\u0026gt;|Text| B(Round) B --\u0026gt; C{Decision} C --\u0026gt;|One| D[Result 1] C --\u0026gt;|Two| E[Result 2] ```  renders as\ngraph TD A[Hard] --\u0026gt;|Text| B(Round) B --\u0026gt; C{Decision} C --\u0026gt;|One| D[Result 1] C --\u0026gt;|Two| E[Result 2]  An example sequence diagram:\n```mermaid sequenceDiagram Alice-\u0026gt;\u0026gt;John: Hello John, how are you? loop Healthcheck John-\u0026gt;\u0026gt;John: Fight against hypochondria end Note right of John: Rational thoughts! John--\u0026gt;\u0026gt;Alice: Great! John-\u0026gt;\u0026gt;Bob: How about you? Bob--\u0026gt;\u0026gt;John: Jolly good! ```  renders as\nsequenceDiagram Alice-\u0026gt;\u0026gt;John: Hello John, how are you? loop Healthcheck John-\u0026gt;\u0026gt;John: Fight against hypochondria end Note right of John: Rational thoughts! John--\u0026gt;\u0026gt;Alice: Great! John-\u0026gt;\u0026gt;Bob: How about you? Bob--\u0026gt;\u0026gt;John: Jolly good!  An example Gantt diagram:\n```mermaid gantt section Section Completed :done, des1, 2014-01-06,2014-01-08 Active :active, des2, 2014-01-07, 3d Parallel 1 : des3, after des1, 1d Parallel 2 : des4, after des1, 1d Parallel 3 : des5, after des3, 1d Parallel 4 : des6, after des4, 1d ```  renders as\ngantt section Section Completed :done, des1, 2014-01-06,2014-01-08 Active :active, des2, 2014-01-07, 3d Parallel 1 : des3, after des1, 1d Parallel 2 : des4, after des1, 1d Parallel 3 : des5, after des3, 1d Parallel 4 : des6, after des4, 1d  An example class diagram:\n```mermaid classDiagram Class01 \u0026lt;|-- AveryLongClass : Cool \u0026lt;\u0026lt;interface\u0026gt;\u0026gt; Class01 Class09 --\u0026gt; C2 : Where am i? Class09 --* C3 Class09 --|\u0026gt; Class07 Class07 : equals() Class07 : Object[] elementData Class01 : size() Class01 : int chimp Class01 : int gorilla class Class10 { \u0026lt;\u0026lt;service\u0026gt;\u0026gt; int id size() } ```  renders as\nclassDiagram Class01 \u0026lt;|-- AveryLongClass : Cool \u0026lt;\u0026lt;interface\u0026gt;\u0026gt; Class01 Class09 --\u0026gt; C2 : Where am i? Class09 --* C3 Class09 --|\u0026gt; Class07 Class07 : equals() Class07 : Object[] elementData Class01 : size() Class01 : int chimp Class01 : int gorilla class Class10 { \u0026lt;\u0026lt;service\u0026gt;\u0026gt; int id size() }  An example state diagram:\n```mermaid stateDiagram [*] --\u0026gt; Still Still --\u0026gt; [*] Still --\u0026gt; Moving Moving --\u0026gt; Still Moving --\u0026gt; Crash Crash --\u0026gt; [*] ```  renders as\nstateDiagram [*] --\u0026gt; Still Still --\u0026gt; [*] Still --\u0026gt; Moving Moving --\u0026gt; Still Moving --\u0026gt; Crash Crash --\u0026gt; [*]  Todo lists You can even write your todo lists in Academic too:\n- [x] Write math example - [x] Write diagram example - [ ] Do something else  renders as\n Write math example Write diagram example Do something else  Tables …","date":1562889600,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1562889600,"objectID":"07e02bccc368a192a0c76c44918396c3","permalink":"https://kurimi1.github.io/post/writing-technical-content/","publishdate":"2019-07-12T00:00:00Z","relpermalink":"/post/writing-technical-content/","section":"post","summary":"Academic is designed to give technical content creators a seamless experience. You can focus on the content and Academic handles the rest.\nHighlight your code snippets, take notes on math classes, and draw diagrams from textual representation.","tags":null,"title":"Writing technical content in Academic","type":"post"},{"authors":["Donald F"],"categories":[],"content":"from IPython.core.display import Image Image(\u0026#39;https://www.python.org/static/community_logos/python-logo-master-v3-TM-flattened.png\u0026#39;)     print(\u0026#34;Welcome to Academic!\u0026#34;)  Welcome to Academic!  Install Python and JupyterLab Install Anaconda which includes Python 3 and JupyterLab.\nAlternatively, install JupyterLab with pip3 install jupyterlab.\nCreate or upload a Jupyter notebook Run the following commands in your Terminal, substituting \u0026lt;MY-WEBSITE-FOLDER\u0026gt; and \u0026lt;SHORT-POST-TITLE\u0026gt; with the file path to your Academic website folder and a short title for your blog post (use hyphens instead of spaces), respectively:\nmkdir -p \u0026lt;MY-WEBSITE-FOLDER\u0026gt;/content/post/\u0026lt;SHORT-POST-TITLE\u0026gt;/ cd \u0026lt;MY-WEBSITE-FOLDER\u0026gt;/content/post/\u0026lt;SHORT-POST-TITLE\u0026gt;/ jupyter lab index.ipynb  The jupyter command above will launch the JupyterLab editor, allowing us to add Academic metadata and write the content.\nEdit your post metadata The first cell of your Jupter notebook will contain your post metadata (front matter).\nIn Jupter, choose Markdown as the type of the first cell and wrap your Academic metadata in three dashes, indicating that it is YAML front matter:\n--- title: My post\u0026#39;s title date: 2019-09-01 # Put any other Academic metadata here... ---  Edit the metadata of your post, using the documentation as a guide to the available options.\nTo set a featured image, place an image named featured into your post’s folder.\nFor other tips, such as using math, see the guide on writing content with Academic.\nConvert notebook to Markdown jupyter nbconvert index.ipynb --to markdown --NbConvertApp.output_files_dir=.  Example This post was created with Jupyter. The orginal files can be found at https://github.com/gcushen/hugo-academic/tree/master/exampleSite/content/post/jupyter\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1567641600,"objectID":"6e929dc84ed3ef80467b02e64cd2ed64","permalink":"https://kurimi1.github.io/post/jupyter/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/post/jupyter/","section":"post","summary":"Learn how to blog in Academic using Jupyter notebooks","tags":[],"title":"Display Jupyter Notebooks with Academic","type":"post"},{"authors":null,"categories":null,"content":"","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":-62135596800,"objectID":"8576ec274c98b3831668a172fa632d80","permalink":"https://kurimi1.github.io/about/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/about/","section":"","summary":"","tags":null,"title":"","type":"widget_page"},{"authors":null,"categories":null,"content":"","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":-62135596800,"objectID":"f26b5133c34eec1aa0a09390a36c2ade","permalink":"https://kurimi1.github.io/admin/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/admin/","section":"","summary":"","tags":null,"title":"","type":"page"}]